let selectedOptipon=!1;const backToMenu=function(){const e=document.querySelector("[aria-label^='Settings']");e.removeChild(document.getElementsByClassName("subMenuContainer")[0])},createSubmenuList=function(e){const a=document.querySelector("[aria-label^='Settings']"),t=document.createElement("div");t.className="setting-middle-line";var n=window.translationsAndConfigs["messages"];a.removeChild(document.getElementsByClassName("settingsMainContainer")[0]);const l=document.createElement("DIV");l.className=`subMenuContainer lang_${n.localeLanguage}`;const i=document.createElement("DIV");i.className="subMenuHeading iconWrap";const s=document.createElement("SPAN");s.innerText=e,s.className="submenutitle",i.appendChild(s),l.appendChild(i),l.appendChild(t),i.addEventListener("click",backToMenu),a.appendChild(l)},onSelectCloseMenu=function(e){"Subtitle"==e?document.querySelector("[aria-label^='Language']").remove(document.getElementsByClassName("subMenuContainer")):(document.querySelector("[aria-label^='Settings']").removeChild(document.getElementsByClassName("subMenuContainer")[0]),selectedOptipon=!0)},qualityClick=function(e){var{playerConfig:a,messages:t}=window.translationsAndConfigs;createSubmenuList(a.settings.quality);const n=[];n[0]={_label:t.Auto_Label,_index:"auto"},n[1]=e[0],n[2]=e[1],n[3]=e[2],n[4]=e[3],n[5]=e[4],n[6]=e[5],n[7]=e[6],n[8]=e[7];let l;const i=[];for(let e=0;e<n.length;e+=1)n[e]&&void 0!==n[e]._label&&("240p"!=n[e]._label&&"576p"!=n[e]._label&&"1080p"!=n[e]._label&&n[e]._label!=t.Auto_Label||i.push(n[e]));const s=i.sort((e,a)=>e._bandwidth-a._bandwidth);for(let e=0;e<s.length;e+=1){l=document.createElement("div"),l.className="subMenuWrapper";const r=document.createElement("div");"240p"==s[e]._label?r.innerText=t.good:"576p"==s[e]._label?r.innerText=t.better:"1080p"==s[e]._label?r.innerText=t.best:r.innerText=t.Auto_Label;const o=document.createElement("div");o.className="setting-middle-line",r.className="subMenu",l.setAttribute("id",s[e]._index),l.appendChild(r),document.getElementsByClassName("subMenuContainer")[0].appendChild(l),e<s.length-1&&document.getElementsByClassName("subMenuContainer")[0].appendChild(o),l.addEventListener("click",a=>{let e=qualityMapping(window.kalturaPlayer.getActiveTracks().video.label,!0),t;kalturaPlayer.isAdaptiveBitrateEnabled()&&(e="Auto"),removetickMark(document.getElementsByClassName("subMenuWrapper"),s),sessionStorage.setItem("qualityKey",a.currentTarget.id),addtickMark(a.currentTarget.id);for(let e=0;e<s.length;e+=1){var n;s[e]._index===Number(a.currentTarget.id)?(t=qualityMapping(s[e].label,!0),n=s[e],sessionStorage.setItem("qualityKeylabel",qualityMapping(s[e]._label)),window.kalturaPlayer.selectTrack(n)):"auto"===s[e]._index&&"auto"===a.currentTarget.id&&(t=qualityMapping(s[e].label,!0),sessionStorage.setItem("qualityKeylabel",s[e]._label),enableVideoAdaptiveBitrate())}window.ztvlib.eventmanager.getAnalyticEngine().ReportEvent("Quality Change",{oldVideoQuality:e,newVideoQuality:t}),ztvlib.eventmanager.handleCBplugin(),onSelectCloseMenu()})}addtickMark(sessionStorage.getItem("qualityKey"))},qualityMapping=function(e,a){var t=window.translationsAndConfigs["messages"];switch(e){case"240p":return a?"Good":languageMapping(t.good);case"576p":return a?"Better":languageMapping(t.better);case"1080p":return a?"Best":languageMapping(t.best);default:return a?"Auto":languageMapping(t.Auto_Label)}},audioTracksClick=function(l){var e=window.translationsAndConfigs["messages"];createSubmenuList(e.audio_Track);let a,t;for(let e=0;e<l.length;e+=1){if(void 0!==l[e]){t=document.createElement("div"),t.className="subMenuWrapper";const i=document.createElement("div");i.innerText=languageMapping(l[e]._language),i.className="subMenu",t.appendChild(i),t.setAttribute("id",l[e]._id)}const n=document.createElement("div");n.className="setting-middle-line",!0===l[e]._active&&(a=l[e]._id),document.getElementsByClassName("subMenuContainer")[0].appendChild(t),e<l.length-1&&document.getElementsByClassName("subMenuContainer")[0].appendChild(n),t.addEventListener("click",a=>{removetickMark(document.getElementsByClassName("subMenuWrapper"),l),addtickMark(a.currentTarget.id);for(let e=0;e<l.length;e+=1){var t,n;l[e]._id===a.currentTarget.id&&(t=languageMapping(window.kalturaPlayer.getActiveTracks().audio.language,!0),n=languageMapping(l[e].language,!0),window.kalturaPlayer.selectTrack(l[e]),window.ztvlib.eventmanager.getAnalyticEngine().ReportEvent("Audio Language Change",{oldAudioLanguage:t,newAudioLanguage:n}),ztvlib.eventmanager.handleCBplugin())}onSelectCloseMenu()})}addtickMark(a)},subTitleClick=function(i){var{}=window.translationsAndConfigs;let a,t;for(let e=0;e<i.length;e+=1){if(void 0!==i[e]){var n=i[e]&&i[e]._label?i[e]._label.trim():"";t=document.createElement("div"),t.className="subMenuWrapper";const s=document.createElement("div");s.innerText=n,s.className="subMenu",t.appendChild(s),s.innerText=languageMapping(n),t.setAttribute("id",i[e]._index)}const l=document.createElement("div");l.className="setting-middle-line",document.getElementsByClassName("subtitleMenuContainer")[0].appendChild(t),e<i.length-1&&document.getElementsByClassName("subtitleMenuContainer")[0].appendChild(l),!0===i[e]._active&&(a=i[e]._index,n=i[e]&&i[e]._label?i[e]._label.trim():"",sessionStorage.setItem("selectedTextTrack",n)),t.addEventListener("click",a=>{removetickMark(document.getElementsByClassName("subMenuWrapper"),i),addtickMark(a.currentTarget.id);for(let e=0;e<i.length;e+=1){var t,n,l;i[e]._index===Number(a.currentTarget.id)&&(t=i[e]&&i[e]._label?i[e]._label.trim():"",n=languageMapping(window.kalturaPlayer.getActiveTracks().text.label,!0),l=languageMapping(t,!0),window.ztvlib.eventmanager.getAnalyticEngine().ReportEvent("Subtitle Language Change",{oldSubtitleLanguage:n,newSubtitleLanguage:l}),window.kalturaPlayer.selectTrack(i[e]),sessionStorage.setItem("selectedTextTrack",languageMapping(t)),ztvlib.isCastOnline&&ztvlib.castPlayerConfig&&ztvlib.castPlayerConfig.textTrackChanged(i[e]),ztvlib.eventmanager.handleCBplugin())}onSelectCloseMenu("Subtitle")})}addtickMark(a)};function enableVideoAdaptiveBitrate(){window.kalturaPlayer&&window.kalturaPlayer.enableAdaptiveBitrate()}function removetickMark(a,t){for(let e=0;e<t.length;e+=1)t&&void 0!==t[e]&&a[e]&&a[e].classList.remove("tickMark")}function addtickMark(e){document.getElementById(e).classList.add("tickMark")}const generateClasses=function(e,a,t,n,l){const i=document.querySelector(".settingsMainContainer");i&&i.classList.add(`lang_${l}`);const s=document.createElement("DIV");s.className="itemWrapper",a.appendChild(s);const r=document.createElement("DIV");r.className="iconsWrapper";const o=document.createElement("SPAN");o.className=n,r.appendChild(o),s.appendChild(r);const c=document.createElement("SPAN");c.className="mainMenu";const u=document.createElement("SPAN");u.className="menuTitle",u.innerHTML=e,c.appendChild(u),s.appendChild(c);var{playerConfig:a,messages:n}=window.translationsAndConfigs;if(e===a.settings.quality){const d=document.createElement("SPAN");d.className="autotext",d.innerHTML=sessionStorage.getItem("qualityKeylabel"),c.appendChild(d),s.addEventListener("click",()=>qualityClick(t))}e===n.audio_Track&&s.addEventListener("click",()=>audioTracksClick(t))},handleOnClick=function(e){var{playerConfig:a,messages:t}=window.translationsAndConfigs;let n=!1;const l=document.querySelector("[aria-label^='Settings']");var i=document.getElementsByClassName("subMenuContainer"),s=document.getElementsByClassName("settingsMainContainer"),r=document.getElementsByClassName("subtitleMenuContainer");if(r&&0<r.length&&document.querySelector("[aria-label^='Language']").removeChild(r[0]),s&&0===s.length&&0===i.length){const u=document.createElement("DIV");u.className="settingsMainContainer",l.appendChild(u);var o=window.kalturaPlayer.getTracks(window.kalturaPlayer.Track.TEXT),r=window.kalturaPlayer.getTracks(window.kalturaPlayer.Track.VIDEO),c=window.kalturaPlayer.getTracks(window.kalturaPlayer.Track.AUDIO).filter(e=>e._language&&""!==e._language);const d=document.createElement("div");d.className="setting-middle-line";const g=document.createElement("div");if(g.className="setting-middle-line",l&&s&&0<s.length){if((r&&!r.length&&c&&!c.length&&o&&!o.length||r&&!r.length)&&generateClasses(a.settings.quality,u,r,"icon-ic_quality",t.localeLanguage),r&&0<r.length&&generateClasses(a.settings.quality,u,r,"icon-ic_quality",t.localeLanguage),c&&0<c.length){for(let e=0;e<c.length;e+=1)n=1!=c.length||!window.ztvlib.eventmanager.checkAudioValApi||1!=window.ztvlib.eventmanager.checkAudioValApi.length;n&&(u.appendChild(d),generateClasses(t.audio_Track,u,c,"icon-ic_audio_track",t.localeLanguage))}0<=e.target.className.indexOf("playkit-icon-settings")&&window.ztvlib.eventmanager.getAnalyticEngine().ReportEvent("Player CTAs")}}else 0<s.length?(l.removeChild(s[0]),window.ztvlib.eventmanager.getAnalyticEngine().ReportEvent("Player CTAs")):0<i.length&&"playkit-icon playkit-icon-settings"===e.target.className&&l.removeChild(i[0]);!0===selectedOptipon&&(l.removeChild(s[0]),selectedOptipon=!1)},subtitleBtnClick=function(e){var t=window.translationsAndConfigs["messages"];const n=document.querySelector("[aria-label^='Language']"),l=document.getElementsByClassName("subtitleMenuContainer");var i=document.getElementsByClassName("settingsMainContainer"),s=document.getElementsByClassName("subMenuContainer"),r=window.kalturaPlayer.getTracks(window.kalturaPlayer.Track.TEXT);if(i&&0<i.length?document.querySelector("[aria-label^='Settings']").removeChild(i[0]):s&&0<s.length&&document.querySelector("[aria-label^='Settings']").removeChild(s[0]),r&&0<r.length){let a=!1;for(let e=0;e<r.length;e+=1)void 0===r[e]||void 0===r[e]._label&&""===r[e]._label||void 0===r[e]._language||""===r[e]._language||(a=!0);if(a)if(!l||0!==l.length||0!==i.length&&0!==s.length)0<l.length&&"playkit-icon playkit-icon-language"===e.target.className&&n.removeChild(l[0]);else{const o=document.createElement("div");o.className="setting-middle-line";const l=document.createElement("DIV");l.className=`subtitleMenuContainer lang_${t.localeLanguage}`;const c=document.createElement("DIV");c.className="subMenuHeading";const u=document.createElement("SPAN");u.innerText=t.subtitle,u.className="submenutitle",c.appendChild(u),l.appendChild(c),l.appendChild(o),0!==l.length&&n&&(n.appendChild(l),subTitleClick(r))}}},SettingsComponent=function(){const e=window.KalturaPlayer&&window.KalturaPlayer.ui.h;var a=window.kalturaPlayer&&window.kalturaPlayer.Track&&window.kalturaPlayer.Track.TEXT&&window.kalturaPlayer.getTracks(window.kalturaPlayer.Track.TEXT),t=!1;if(a&&0<a.length)for(let e=0;e<a.length;e+=1)void 0===a[e]||void 0===a[e]._label&&""===a[e]._label||void 0===a[e]._language||""===a[e]._language||(t=!0);return e("div",{className:"settingcontainer"},e("div",{className:"playkit-control-button-container",title:"Settings"},e("button",{tabindex:0,"aria-label":"Settings",className:"playkit-control-button",onClick:handleOnClick},e("i",{className:"playkit-icon playkit-icon-settings"}))),t?e("div",{className:"subtitleContainer"},e("div",{className:"playkit-control-button-container",title:"Subtitles"},e("button",{tabindex:0,"aria-label":"Language",className:"playkit-control-button",onClick:subtitleBtnClick},e("i",{className:"playkit-icon playkit-icon-language"})))):"")};function languageMapping(e,a){var t=window.translationsAndConfigs;switch(e){case"en":return a?"English":t.messages.english;case"hi":return a?"Hindi":t.messages.hindi;case"mr":return a?"Marathi":t.messages.marathi;case"te":return a?"Telugu":t.messages.telugu;case"kn":return a?"Kannada":t.messages.kannada;case"ta":return a?"Tamil":t.messages.tamil;case"ml":return a?"Malayalam":t.messages.malayalam;case"bn":return a?"Bengali":t.messages.bengali;case"gu":return a?"Gujarati":t.messages.gujarati;case"ur":return"Urdu";case"pa":return a?"Punjabi":t.messages.punjabi;case"hr":return a?"Bhojpuri":t.messages.bhojpuri;case"or":return"Oriya";case"de":return"German";case"th":return"Thai";case"id":case"in":return"Indonesian";case"ms":return"Malay";case"ru":return"Russian";case"zho":return"Chinese";case"es":return"Spanish";case"ja":return"Japanese";case"fr":return"French";case"Off":return a?"Off":t.messages.off;case"Good":return t.messages.good;case"Better":return t.messages.better;case"Best":return t.messages.best;default:return e}}