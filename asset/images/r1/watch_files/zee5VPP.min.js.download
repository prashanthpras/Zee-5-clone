var Zee5BasicVPP=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=1)}([function(e,t,n){(function(n){var i,r,o,a;function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return r(n||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){t.exports=e("./lib/VASTPlayer")},{"./lib/VASTPlayer":5}],2:[function(e,t,n){"use strict";function i(e,t,n){t.on(e,(function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];n.emit.apply(n,[e].concat(t))}))}function r(e,t,n){n.forEach((function(n){t.listeners(n).length>0&&i(n,e,t)})),t.on("newListener",(function(r){n.indexOf(r)>-1&&t.listeners(r).length<1&&i(r,e,t)}))}function o(e){this.events=e.slice(),this.__private__={target:null,source:null}}o.prototype.from=function(e){return this.__private__.source=e,this.__private__.target&&r(e,this.__private__.target,this.events),this},o.prototype.to=function(e){return this.__private__.target=e,this.__private__.source&&r(this.__private__.source,e,this.events),this},t.exports=o},{}],3:[function(e,t,n){"use strict";var i=e("./VideoTracker"),r=e("util").inherits,o=e("./enums/HTML_MEDIA_EVENTS");function a(e){var t=this,n=void 0!==e.videoVastDuration?e.videoVastDuration:e.duration,r=isFinite(n)?n:0;i.call(this,Math.floor(r||0)),this.video=e,[o.PLAYING,o.PAUSE,o.TIMEUPDATE].forEach((function(n){return e.addEventListener(n,(function(){return t.tick()}),!1)})),e.addEventListener(o.ENDED,(function(){return t.tick({hasVideoEnded:!0})}),!1)}r(a,i),a.prototype._getState=function(){return{playing:!this.video.paused,currentTime:this.video.currentTime}},t.exports=a},{"./VideoTracker":7,"./enums/HTML_MEDIA_EVENTS":8,util:35}],4:[function(e,t,n){"use strict";var i=e("./enums/VPAID_EVENTS");function r(e){return e}function o(e,t){this.pixels=e.reduce((function(e,t){return(e[t.event]||(e[t.event]=[])).push(t.uri),e}),{}),this.__private__={mapper:t||r}}o.prototype.track=function(e){var t=this.pixels,n=this.__private__.mapper,o=e.adVolume;function a(i,o,a){function s(e){return n((o||r)(e))}return function(){try{window.navigator.userAgent}catch(e){}if(!a||a()){var n={impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete"};!function(e,t,n,i){try{var r="";new Event("CompletedView"),(e||[]).forEach((function(e){var o=new Image,a=Date.now()||(new Date).getTime();o.src=t(e)+"&t=".concat(a),r+=e.toString().length,"complete"==n&&(o.onload=function(){i.emit("CompletedView")},o.onerror=function(){i.emit("CompletedView")})})),"complete"!=n||r||i.emit("CompletedView")}catch(e){"complete"==n&&i.emit("CompletedView")}}(t[i],s,i,e),n[i]&&function(e){var t=0;try{t=document.getElementsByTagName("video")[0].muted?0:1}catch(e){console.log("Could not find volume",e),t=0}try{MoatApiReference.dispatchEvent({type:e,adVolume:t})}catch(e){}}(n[i])}}}e.on(i.AdSkipped,a("skip")),e.on(i.AdStarted,a("creativeView")),e.on(i.AdVolumeChange,a("unmute",null,(function(){return 0===o&&e.adVolume>0}))),e.on(i.AdVolumeChange,a("mute",null,(function(){return o>0&&0===e.adVolume}))),e.on(i.AdImpression,a("impression")),e.on(i.AdVideoStart,a("start")),e.on(i.AdVideoFirstQuartile,a("firstQuartile")),e.on(i.AdVideoMidpoint,a("midpoint")),e.on(i.AdVideoThirdQuartile,a("thirdQuartile")),e.on(i.AdVideoComplete,a("complete")),e.on(i.AdClickThru,a("clickThrough")),e.on(i.AdUserAcceptInvitation,a("acceptInvitationLinear")),e.on(i.AdUserMinimize,a("collapse")),e.on(i.AdUserClose,a("closeLinear")),e.on(i.AdPaused,a("pause")),e.on(i.AdPlaying,a("resume")),e.on(i.onExpand,a("onExpand")),e.on(i.onCollapse,a("onCollapse")),e.on(i.onMute,a("onMute")),e.on(i.onUnmute,a("onUnmute")),e.on(i.onInView,a("onInView")),e.on(i.onOutOfView,a("onOutOfView")),e.on(i.AdTimeUpdate,a("AdTimeUpdate")),e.on(i.AdLoaded,a("AdLoaded")),e.on(i.skippableStateChange,a("skippableStateChange")),e.on(i.AdError,a("error",(function(e){return e.replace(/(\{|\[])errorcode(\}|\])/g,901)}))),e.on(i.AdVolumeChange,(function(){o=e.adVolume}))},t.exports=o},{"./enums/VPAID_EVENTS":10}],5:[function(e,t,n){"use strict";var i=e("events").EventEmitter,r=e("util").inherits,o=e("vastacular").VAST,a=(e("./players/JavaScriptVPAID"),e("./players/FlashVPAID"),e("./players/HTMLVideo")),s=(e("./enums/MIME"),e("./enums/VPAID_EVENTS")),u=e("./EventProxy"),c=e("lie"),l=e("./PixelReporter");function p(){var e,t,n,i,r={},o=arguments.length;for(e=0;e<o;e++)for(n in t=arguments[e]||{})i=t[n],void 0===r[n]&&(r[n]=i),"object"===d(i)&&(r[n]=p(r[n],i));return r}function h(e){return e}function f(){return new Error("VASTPlayer not ready.")}function y(e){return function(){var t=this,n=this.__private__.player;return this.ready?n[e].apply(n,arguments).then((function(){return t})):c.reject(f())}}function m(e){return{get:function(){if(!this.ready)throw f();return this.__private__.player[e]},set:function(t){if(!this.ready)throw f();return this.__private__.player[e]=t}}}function v(e,t){var n=this;i.call(this),this.__private__={container:e,config:p(t,{vast:{resolveWrappers:!0,maxRedirects:5},tracking:{mapper:h}}),vast:null,ready:!1,player:null,skipDelay:!1,customErrorFunction:function(){},customAdLoadedFunction:function(){},adBreakPages:{},muteState:!1,showTapToUnmuteButton:!1,loop:!1,previewImage:!1},this.on(s.AdClickThru,(function(e,t,i){var r=e||n.vast.get("ads[0].creatives[0].videoClicks.clickThrough");i&&r&&(void 0!==window.ADSDKEXT&&void 0!==window.ADSDKEXT.click_handler&&"function"==typeof window.ADSDKEXT.click_handler?window.ADSDKEXT.click_handler(r):void 0!==window.parent.ADSDKEXT&&void 0!==window.parent.ADSDKEXT.click_handler&&"function"==typeof window.parent.ADSDKEXT.click_handler?window.parent.ADSDKEXT.click_handler(r):window.open(r))}))}r(v,i),Object.defineProperties(v.prototype,{container:{get:function(){return this.__private__.container}},config:{get:function(){return this.__private__.config}},vast:{get:function(){return this.__private__.vast}},ready:{get:function(){return this.__private__.ready}},adRemainingTime:m("adRemainingTime"),adDuration:m("adDuration"),adVolume:m("adVolume")}),v.prototype.load=function(e){var t=this,n=this.config.vast;return o.fetch(e,n).then((function(e){var n,i=(n=e.filter("ads[0].creatives[0].mediaFiles",(function(){return!0})),{player:new a(t.container),mediaFiles:n}),r=e.get("ads[0].creatives[0].parameters"),o=[].concat(e.map("ads[0].impressions",(function(e){return{event:"impression",uri:e.uri}})),e.map("ads[0].errors",(function(e){return{event:"error",uri:e}})),e.get("ads[0].creatives[0].trackingEvents"),e.map("ads[0].creatives[0].videoClicks.clickTrackings",(function(e){return{event:"clickThrough",uri:e}}))),c=i.player,d=i.mediaFiles,p=new u(s),h=new l(o,t.config.tracking.mapper);p.from(c).to(t),t.__private__.vast=e,t.__private__.player=c;var f=t.__private__.config,y=f.skipDelay,m=f.adBreakPages,v=f.customErrorFunction,g=f.customAdLoadedFunction,A=f.muteState,b=f.showTapToUnmuteButton,M=f.loop,w=f.previewImage;return c.load(d,r,e,y,v,g,m,A,b,M,w).then((function(){h.track(c)}))})).then((function(){return t.__private__.ready=!0,t.emit("ready"),t})).catch((function(e){throw"function"==typeof vastvideo_skipad&&vastvideo_skipad(),t.__private__.config.customErrorFunction(400),console.error("%cError!","font-size: 1.5em;",e),t.emit("error",e),e}))},v.prototype.startAd=y("startAd"),v.prototype.stopAd=y("stopAd"),v.prototype.pauseAd=y("pauseAd"),v.prototype.resumeAd=y("resumeAd"),v.prototype.muteAd=y("muteAd"),v.prototype.unmuteAd=y("unmuteAd"),v.vpaidSWFLocation="https://cdn.jsdelivr.net/npm/vast-player@0.2.10/dist/vast-player--vpaid.swf",t.exports=v},{"./EventProxy":2,"./PixelReporter":4,"./enums/MIME":9,"./enums/VPAID_EVENTS":10,"./players/FlashVPAID":12,"./players/HTMLVideo":13,"./players/JavaScriptVPAID":14,events:19,lie:21,util:35,vastacular:36}],6:[function(e,t,n){"use strict";function i(e){var t=e.split(".").map(parseFloat);this.string=e,this.major=t[0],this.minor=t[1],this.patch=t[2],Object.freeze(this)}i.prototype.toString=function(){return this.string},t.exports=i},{}],7:[function(e,t,n){"use strict";var i=e("events").EventEmitter,r=e("util").inherits,o=e("./enums/VPAID_EVENTS");function a(e,t){t.fired[e]||(t.emit(e),t.fired[e]=!0)}function s(e){i.apply(this,arguments),this.duration=e,this.seconds=Array.apply([],new Array(e)).map((function(){return!1})),this.fired=[o.AdVideoStart,o.AdVideoFirstQuartile,o.AdVideoMidpoint,o.AdVideoThirdQuartile,o.AdVideoComplete].reduce((function(e,t){return e[t]=!1,e}),{})}r(s,i),s.prototype.tick=function(e){var t=!(void 0===e||!e.hasOwnProperty("hasVideoEnded"))&&e.hasVideoEnded,n=(this.seconds,this._getState()),i=function(){try{return Math.round(n.currentTime)-1}catch(e){return-1}}(),r=[1,2,3,4].map((function(e){return Math.floor(this.duration/4*e)}),this);function s(e){var t=r[e-1];return i>=t}n.playing&&(a(o.AdVideoStart,this),i>-1&&(this.seconds[i]=!0)),s(1)&&a(o.AdVideoFirstQuartile,this),s(2)&&a(o.AdVideoMidpoint,this),s(3)&&a(o.AdVideoThirdQuartile,this),(s(4)||t)&&a(o.AdVideoComplete,this)},t.exports=s},{"./enums/VPAID_EVENTS":10,events:19,util:35}],8:[function(e,t,n){"use strict";var i=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","interruptbegin","interruptend","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"];i.forEach((function(e){this[e.toUpperCase()]=e}),i),Object.freeze(i),t.exports=i},{}],9:[function(e,t,n){var i={JAVASCRIPT:"application/javascript",FLASH:"application/x-shockwave-flash"};Object.freeze(i),t.exports=i},{}],10:[function(e,t,n){"use strict";var i=["AdLoaded","AdStarted","AdStopped","AdSkipped","skippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError","CompletedView","onExpand","onMute","onUnmute","onCollapse","onInView","onOutOfView","AdTimeUpdate","VideoEnded"];i.forEach((function(e){i[e]=e})),Object.freeze(i),t.exports=i},{}],11:[function(e,t,n){"use strict";var i=e("./window"),r=document.createElement("video"),o=e("./enums/MIME");n.isDesktop=!/Android|Silk|Mobile|PlayBook/.test(i.navigator.userAgent),n.canPlay=function(e){var t=i.navigator.mimeTypes,n=i.ActiveXObject;switch(e){case o.FLASH:try{return new n("ShockwaveFlash.ShockwaveFlash")?2:0}catch(e){return t&&t[o.FLASH]?2:0}return 0;case o.JAVASCRIPT:case"application/x-javascript":return 2;default:if(r.canPlayType)switch(r.canPlayType(e)){case"probably":return 2;case"maybe":return 1;default:return 0}}return 0},Object.freeze(n)},{"./enums/MIME":9,"./window":17}],12:[function(e,t,n){"use strict";var i=e("./VPAID"),r=e("util").inherits,o=e("lie"),a=e("../uuid"),s=e("querystring"),u=e("../enums/VPAID_EVENTS"),c=e("../VPAIDVersion");function l(e,t){i.apply(this,arguments),this.swfURI=t,this.object=null}r(l,i),l.prototype.load=function(e,t){var n=this,i=e[0].uri,r=e[0].bitrate;return new o((function(e,o){var l=document.createElement("object"),d="vast_player__"+a(20),p=s.stringify({vpaidURI:i,eventCallback:d});function h(e){n.container.removeChild(l),n.api=null,n.object=null,delete window[d],e&&o(e)}l.type="application/x-shockwave-flash",l.data=n.swfURI+"?"+p,l.style.display="block",l.style.width="100%",l.style.height="100%",l.style.border="none",l.style.opacity="0",l.innerHTML=['<param name="movie" value="'+n.swfURI+'">','<param name="flashvars" value="'+p+'">','<param name="quality" value="high">','<param name="play" value="false">','<param name="loop" value="false">','<param name="wmode" value="opaque">','<param name="scale" value="noscale">','<param name="salign" value="lt">','<param name="allowScriptAccess" value="always">'].join("\n"),n.object=l,window[d]=function(e){switch(e.type){case u.AdClickThru:return n.emit(e.type,e.url,e.Id,e.playerHandles);case u.AdInteraction:case u.AdLog:return n.emit(e.type,e.Id);case u.AdError:return n.emit(e.type,e.message);default:return n.emit(e.type)}},n.once("VPAIDInterfaceReady",(function(){var e=l.getBoundingClientRect(),i=n.vpaidVersion=new c(l.handshakeVersion("2.0"));if(i.major>2)return o(new Error("VPAID version "+i+" is not supported."));n.on("VPAIDInterfaceResize",(function(){var e=l.getBoundingClientRect();n.resizeAd(e.width,e.height,"normal")})),l.initAd(e.width,e.height,"normal",r,t,null)})),n.once(u.AdLoaded,(function(){n.api=l,l.style.opacity="1",e(n)})),n.once(u.AdError,(function(e){h(new Error(e))})),n.once(u.AdStopped,h),n.container.appendChild(l)}))},t.exports=l},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../uuid":16,"./VPAID":15,lie:21,querystring:26,util:35}],13:[function(e,t,n){"use strict";var i=e("events").EventEmitter,r=e("util").inherits,o=e("lie"),a=e("../environment").canPlay,s=e("sort-by"),u=e("../enums/VPAID_EVENTS"),l=e("../enums/HTML_MEDIA_EVENTS"),d=e("../HTMLVideoTracker"),h=e("../EventProxy");function f(e,t,n){return e.addEventListener(t,n,!1)}function y(e,t,n){return e.removeEventListener(t,n,!1)}function m(e,t,n){return f(e,t,(function i(){return y(e,t,i),n.apply(this,arguments)}))}function v(e,t){function n(){return new Error("The <video> has not been loaded.")}return function(){if(!this.video){if(t)return o.reject(n());throw n()}return e.apply(this,arguments)}}function g(e){this.container=e,this.video=null,this.div=null,this.__private__={hasPlayed:!1,muteState:!1,showTapToUnmuteButton:!1}}r(g,i),Object.defineProperties(g.prototype,{adRemainingTime:{get:v((function(){return(void 0!==this.video.videoVastDuration?this.video.videoVastDuration:this.video.duration)-this.video.currentTime}))},adDuration:{get:v((function(){return void 0!==this.video.videoVastDuration?this.video.videoVastDuration:this.video.duration}))},adVolume:{get:v((function(){return this.video.volume})),set:v((function(e){this.video.volume=e}))}}),g.prototype.load=function(e,t,n,i,r,y,v,g,A,b,M){var w=e.filter((function(e){return"video/mp4"===e.type.toLowerCase()||"application/x-mpegurl"===e.type.toLowerCase()}));console.log("MediaFileList::",w);var I=this,x=(navigator.userAgent.indexOf("iPhone"),["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document),T=n.get("ads[0].isHLSPlayable")||"";T=""===T?n.get("isHLSPlayable")||"":T;var D=!1,k=n.get("ads[0].creatives[0].duration");return void 0!==T&&/true/i.test(T)&&x&&(D=!0),this.__private__=c(c({},this.__private__),{},{muteState:g,showTapToUnmuteButton:A}),Math.random().toString(36).substring(7),new o((function(e,t){var o=function(e,t){var n=t.width,i=e.map((function(e){return{mediaFile:e,playability:a(e.type)}})).filter((function(e){return e.playability>0})).sort(s("-playability","-mediaFile.bitrate")),r=i.map((function(e){return Math.abs(n-e.mediaFile.width)})),o=i[r.indexOf(Math.min.apply(Math,r))];return!o||o.playability<1?null:o.mediaFile}(w,I.container.getBoundingClientRect());try{void 0!==T&&/true/i.test(T)&&"function"==typeof Hls&&Hls.isSupported()&&-1!=w[0].uri.indexOf("m3u8")&&(o=w[0],D=!0)}catch(e){console.log("HLS is not Supported 2 ",e)}var c=w.filter((function(e){return"video/mp4"===e.type.toLowerCase()}));if(!D&&0===c.length)return t(new Error("There are no playable <MediaFile>s."));var C=w[0].height>w[0].width;console.log("Can play m3u8??",D,D?w[0]:c[0]);var E=new p({mediaFiles:D?w[0]:c[0],vastJson:n,isContentPlayerFullscreen:!0,vpaid:I,skipDelay:i,vastPlayer:I.player,customErrorFunction:r,customAdLoadedFunction:y,adBreakPages:v,muteState:g,showTapToUnmuteButton:A,isVerticalVideo:C,loop:b,previewImage:M,videoDurationFromInlineVast:k}).getTemplate(),N=E.div||document.createElement("div"),j=E.video||document.createElement("video"),S=document.createElement("button"),P=!0;if(!o&&0===!c.length)return t(new Error("There are no playable <MediaFile>s."));S.addEventListener("click",(function(){P?(j.muted=!1,j.volume=1,j.removeAttribute("muted"),P=!1,I.emit(u.AdVolumeChange)):(j.muted=!0,j.volume=0,j.setAttribute("muted","true"),P=!0,I.emit(u.AdVolumeChange))})),j.controls=!1,j.setAttribute("webkit-playsinline",!0),j.setAttribute("playsinline",!0),j.videoVastDuration=k,j.preload="auto",j.loop=!x&&(b||!1),m(j,l.LOADEDMETADATA,(function(){var t=new d(j);new h(u).from(t).to(I),I.div=N,I.video=j,I.template=E,n.inView=E.hasOwnProperty("inView")&&E.inView,e(I),f(j,l.DURATIONCHANGE,(function(){I.emit(u.AdDurationChange)})),f(j,l.VOLUMECHANGE,(function(){I.emit(u.AdVolumeChange)}))})),m(j,l.ERROR,(function(){var e=j.error;I.emit(u.AdError,e.message),t(e)})),m(j,l.PLAYING,(function(){I.__private__.hasPlayed=!0,I.emit(u.AdImpression)})),f(j,l.TIMEUPDATE,(function(){I.emit(u.AdTimeUpdate)})),m(j,l.ENDED,(function(){I.stopAd()})),f(j,l.ENDED,(function(){I.emit(u.VideoEnded)})),I.container.appendChild(N)}))},g.prototype.startAd=v((function(e){var t=this,n=this.video,i=(this.div,this.__private__.hasOwnProperty("muteState")&&this.__private__.muteState),r=e||i||!1;return this.__private__.hasPlayed?o.reject(new Error("The ad has already been started.")):new o((function(e){return m(n,l.PLAYING,(function(){e(t),t.emit(u.AdStarted)})),t.template.playVideo(r)}))}),!0),g.prototype.stopAd=v((function(){return this.emit(u.AdStopped),o.resolve(this)}),!0),g.prototype.pauseAd=v((function(){var e=this,t=this.video;return this.video.dataset.isProgrammaticallyPaused="true",this.video.paused?(this.isProgrammaticallyPaused=!0,this.emit(u.AdPaused),o.resolve(this)):new o((function(n){return m(t,l.PAUSE,(function(){n(e),e.emit(u.AdPaused),e.template.updateIconButtonPlayPause("play")})),t.pause()}))}),!0),g.prototype.resumeAd=v((function(){var e=this,t=this.video,n=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document;return delete this.video.dataset.isProgrammaticallyPaused,this.__private__.hasPlayed?this.video.paused?new o((function(i){return m(t,l.PLAY,(function(){i(e),e.emit(u.AdPlaying),e.template.updateIconButtonPlayPause("pause")})),n&&(t.currentTime=Math.floor(t.currentTime)),t.play()})):o.resolve(this):o.reject(new Error("The ad has not been started yet."))}),!0),g.prototype.muteAd=v((function(){var e=this,t=this.video;return this.video.muted?o.resolve(this):new o((function(n){return t.setAttribute("muted","false"),e.emit(u.onMute),t.muted=!1}))}),!0),g.prototype.unmuteAd=v((function(){var e=this.video;return this.video.muted?new o((function(t){return e.removeAttribute("muted"),e.muted=!1})):(this.emit(u.onUnmute),o.resolve(this))}),!0),t.exports=g},{"../EventProxy":2,"../HTMLVideoTracker":3,"../enums/HTML_MEDIA_EVENTS":8,"../enums/VPAID_EVENTS":10,"../environment":11,events:19,lie:21,"sort-by":28,util:35}],14:[function(e,t,n){"use strict";var i=e("util").inherits,r=e("./VPAID"),o=e("lie"),a=e("../enums/VPAID_EVENTS"),s=e("../environment").isDesktop,u=e("../VPAIDVersion");function c(){r.apply(this,arguments),this.frame=null}i(c,r),c.prototype.load=function(e,t){var n=this,i=e[0].uri,r=e[0].bitrate;return new o((function(e,o){var c=document.createElement("iframe"),l=document.createElement("script"),d=document.createElement("video");function p(e){n.container.removeChild(c),n.frame=null,n.api=null,e&&o(e)}c.src="about:blank",c.style.width="100%",c.style.height="100%",c.style.display="block",c.style.opacity="0",c.style.border="none",d.setAttribute("webkit-playsinline","true"),d.style.display="block",d.style.width="100%",d.style.height="100%",d.style.objectFit="contain",n.container.appendChild(c),c.contentWindow.document.open(),c.contentWindow.document.close(),c.contentWindow.document.body.style.margin="0",n.frame=c,l.src=i,l.onload=function(){var i=c.contentWindow.getVPAIDAd(),l=c.getBoundingClientRect(),h=c.contentWindow.document.body,f=n.vpaidVersion=new u(i.handshakeVersion("2.0"));if(f.major>2)return o(new Error("VPAID version "+f+" is not supported."));c.contentWindow.addEventListener("resize",(function(){var e=c.getBoundingClientRect();n.resizeAd(e.width,e.height,"normal")}),!1),a.forEach((function(e){return i.subscribe((function(){for(var t=new Array(arguments.length),i=arguments.length;i--;)t[i]=arguments[i];return n.emit.apply(n,[e].concat(t))}),e)})),n.once(a.AdLoaded,(function(){c.style.opacity="1",n.api=i,e(n)})),n.once(a.AdError,(function(e){p(new Error(e))})),n.once(a.AdStopped,p),i.initAd(l.width,l.height,"normal",r,{AdParameters:t},{slot:h,videoSlot:d,videoSlotCanAutoPlay:s})},l.onerror=function(){p(new Error("Failed to load MediaFile ["+i+"]."))},c.contentWindow.document.body.appendChild(d),c.contentWindow.document.head.appendChild(l)}))},t.exports=c},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../environment":11,"./VPAID":15,lie:21,util:35}],15:[function(e,t,n){"use strict";var i=e("util").inherits,r=e("events").EventEmitter,o=e("lie"),a=e("../enums/VPAID_EVENTS");function s(e,t){return function(){var n=arguments,i=this.api,r=this;function a(){return new Error("Ad has not been loaded.")}function s(){return i[e].apply(i,n)}if(!t){if(!i)throw a();return s()}return new o((function(e,n){return i?(r.once(t,(function(){e(r)})),s()):n(a())}))}}function u(e){this.container=e,this.api=null,this.vpaidVersion=null}i(u,r),Object.defineProperties(u.prototype,{adLinear:{get:s("getAdLinear")},adWidth:{get:s("getAdWidth")},adHeight:{get:s("getAdHeight")},adExpanded:{get:s("getAdExpanded")},adSkippableState:{get:s("getAdSkippableState")},adRemainingTime:{get:s("getAdRemainingTime")},adDuration:{get:s("getAdDuration")},adVolume:{get:s("getAdVolume"),set:s("setAdVolume")},adCompanions:{get:s("getAdCompanions")},adIcons:{get:s("getAdIcons")}}),u.prototype.load=function(){throw new Error("VPAID subclass must implement load() method.")},u.prototype.resizeAd=s("resizeAd",a.AdSizeChange),u.prototype.startAd=s("startAd",a.AdStarted),u.prototype.stopAd=s("stopAd",a.AdStopped),u.prototype.pauseAd=s("pauseAd",a.AdPaused),u.prototype.resumeAd=s("resumeAd",a.AdPlaying),u.prototype.expandAd=s("expandAd",a.AdExpandedChange),u.prototype.collapseAd=s("collapseAd",a.AdExpandedChange),u.prototype.skipAd=s("skipAd",a.AdSkipped),t.exports=u},{"../enums/VPAID_EVENTS":10,events:19,lie:21,util:35}],16:[function(e,t,n){"use strict";var i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=i.length;t.exports=function(e){for(var t="";e--;)t+=i.charAt(Math.floor(Math.random()*r));return t}},{}],17:[function(e,t,n){t.exports=window},{}],18:[function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}void 0!==t&&(t.exports=i),i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],19:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"===d(e)&&null!==e}function a(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(a(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),u=1;u<i;u++)s[u-1]=arguments[u];n.apply(this,s)}else if(o(n)){for(i=arguments.length,s=new Array(i-1),u=1;u<i;u++)s[u-1]=arguments[u];for(i=(c=n.slice()).length,u=0;u<i;u++)c[u].apply(this,s)}return!0},i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){return e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],20:[function(e,t,i){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==r&&f(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function p(e,t,n){i((function(){var i;try{i=t(n)}catch(t){return o.reject(e,t)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function h(e){var t=e&&e.then;if(e&&("object"===d(e)||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var a=y((function(){t(r,i)}));"error"===a.status&&i(a.value)}function y(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(r);return this.state!==u?p(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){p(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){p(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=y(h,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)f(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(r);++u<n;)l(e[u],u);return c;function l(e,r){t.resolve(e).then((function(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(c,a))}),(function(e){i||(i=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a,s=-1,u=new this(r);++s<n;)a=e[s],t.resolve(a).then((function(e){i||(i=!0,o.resolve(u,e))}),(function(e){i||(i=!0,o.reject(u,e))}));return u}},{immediate:20}],22:[function(e,t,n){!function(e,n){"use strict";"object"===d(t)&&"object"===d(t.exports)?t.exports=n():e.objectPath=n()}(this,(function(){"use strict";var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty;function n(e){if(!e)return!0;if(a(e)&&0===e.length)return!0;for(var n in e)if(t.call(e,n))return!1;return!0}function i(t){return e.call(t)}function r(e){return"number"==typeof e||"[object Number]"===i(e)}function o(e){return"string"==typeof e||"[object String]"===i(e)}function a(e){return"object"===d(e)&&"number"==typeof e.length&&"[object Array]"===i(e)}function s(e){var t=parseInt(e);return t.toString()===e?t:e}function u(e,t,i,a){if(r(t)&&(t=[t]),n(t))return e;if(o(t))return u(e,t.split("."),i,a);var c=s(t[0]);if(1===t.length){var l=e[c];return void 0!==l&&a||(e[c]=i),l}return void 0===e[c]&&(r(c)?e[c]=[]:e[c]={}),u(e[c],t.slice(1),i,a)}var c={ensureExists:function(e,t,n){return u(e,t,n,!0)},set:function(e,t,n,i){return u(e,t,n,i)},insert:function(e,t,n,i){var r=c.get(e,t);i=~~i,a(r)||(r=[],c.set(e,t,r)),r.splice(i,0,n)},empty:function(e,s){if(n(s))return e;if(!n(e)){var u,l;if(!(u=c.get(e,s)))return e;if(o(u))return c.set(e,s,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===i(e)}(u))return c.set(e,s,!1);if(r(u))return c.set(e,s,0);if(a(u))u.length=0;else{if(!function(e){return"object"===d(e)&&"[object Object]"===i(e)}(u))return c.set(e,s,null);for(l in u)t.call(u,l)&&delete u[l]}}},push:function(e,t){var n=c.get(e,t);a(n)||(n=[],c.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},coalesce:function(e,t,n){for(var i,r=0,o=t.length;r<o;r++)if(void 0!==(i=c.get(e,t[r])))return i;return n},get:function(e,t,i){if(r(t)&&(t=[t]),n(t))return e;if(n(e))return i;if(o(t))return c.get(e,t.split("."),i);var a=s(t[0]);return 1===t.length?void 0===e[a]?i:e[a]:c.get(e[a],t.slice(1),i)},del:function(e,t){return function e(t,i){if(r(i)&&(i=[i]),!n(t)){if(n(i))return t;if(o(i))return e(t,i.split("."));var u=s(i[0]),c=t[u];if(1===i.length)void 0!==c&&(a(t)?t.splice(u,1):delete t[u]);else if(void 0!==t[u])return e(t[u],i.slice(1));return t}}(e,t)}};return c}))},{}],23:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,l=[],d=!1,p=-1;function h(){d&&c&&(d=!1,c.length?l=c.concat(l):p=-1,l.length&&f())}function f(){if(!d){var e=u(h);d=!0;for(var t=l.length;t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new y(e,t)),1!==l.length||d||u(f)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],24:[function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var d,p,h,f,y=e[l].replace(s,"%20"),m=y.indexOf(n);m>=0?(d=y.substr(0,m),p=y.substr(m+1)):(d=y,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),i(a,h)?r(a[h])?a[h].push(f):a[h]=[a[h],f]:a[h]=f}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],25:[function(e,t,n){"use strict";var i=function(e){switch(d(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===d(e)?o(a(e),(function(a){var s=encodeURIComponent(i(a))+n;return r(e[a])?o(e[a],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[a]))})).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],26:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":24,"./encode":25}],27:[function(e,t,n){t.exports=function(e,t,n){for(var i=0,r=e.length,o=3==arguments.length?n:e[i++];i<r;)o=t.call(null,o,e[i],++i,e);return o}},{}],28:[function(e,t,n){var i,r,o,a=e("object-path");o=function(e){return function(t){return d(t)===e}},r=function(e,t){var n=1,i=t||function(e,t){return t};return"-"===e[0]&&(n=-1,e=e.substr(1)),function(t,r){var o,s=i(e,a.get(t,e)),u=i(e,a.get(r,e));return s<u&&(o=-1),s>u&&(o=1),s===u&&(o=0),o*n}},i=function(){var e=Array.prototype.slice.call(arguments),t=e.filter(o("string")),n=e.filter(o("function"))[0];return function(e,i){for(var o=t.length,a=0,s=0;0===a&&s<o;)a=r(t[s],n)(e,i),s++;return a}},t.exports=i},{"object-path":22}],29:[function(e,t,n){var i,r=e("emitter"),o=e("reduce"),a=e("./request-base"),s=e("./is-object");function u(){}function c(e){switch({}.toString.call(e)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}i="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var l=t.exports=e("./request").bind(null,v);l.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var d="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function p(e){if(!s(e))return e;var t=[];for(var n in e)null!=e[n]&&h(t,n,e[n]);return t.join("&")}function h(e,t,n){if(Array.isArray(n))return n.forEach((function(n){h(e,t,n)}));e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}function f(e){for(var t,n={},i=e.split("&"),r=0,o=i.length;r<o;++r)t=i[r].split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return n}function y(e){return/[\/+]json\b/.test(e)}function m(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(e){var t,n,i,r,o=e.split(/\r?\n/),a={};o.pop();for(var s=0,u=o.length;s<u;++s)t=(n=o[s]).indexOf(":"),i=n.slice(0,t).toLowerCase(),r=d(n.slice(t+1)),a[i]=r;return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function v(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e=null,t=null;try{t=new m(n)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,e.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,e.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var i=new Error(t.statusText||"Unsuccessful HTTP response");i.original=e,i.response=t,i.status=t.status,n.callback(i,t)}))}for(var g in l.serializeObject=p,l.parseString=f,l.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":p,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":f,"application/json":JSON.parse},m.prototype.get=function(e){return this.header[e.toLowerCase()]},m.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=t.split(/ *; */).shift();var n=function(e){return o(e.split(/ *; */),(function(e,t){var n=t.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(e[i]=r),e}),{})}(t);for(var i in n)this[i]=n[i]},m.prototype.parseBody=function(e){var t=l.parse[this.type];return!t&&y(this.type)&&(t=l.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null},m.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},m.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,i="cannot "+t+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=t,r.url=n,r},l.Response=m,r(v.prototype),a)v.prototype[g]=a[g];function A(e,t){var n=l("DELETE",e);return t&&n.end(t),n}v.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},v.prototype.type=function(e){return this.set("Content-Type",l.types[e]||e),this},v.prototype.responseType=function(e){return this._responseType=e,this},v.prototype.accept=function(e){return this.set("Accept",l.types[e]||e),this},v.prototype.auth=function(e,t,n){switch(n||(n={type:"basic"}),n.type){case"basic":var i=btoa(e+":"+t);this.set("Authorization","Basic "+i);break;case"auto":this.username=e,this.password=t}return this},v.prototype.query=function(e){return"string"!=typeof e&&(e=p(e)),e&&this._query.push(e),this},v.prototype.attach=function(e,t,n){return this._getFormData().append(e,t,n||t.name),this},v.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},v.prototype.send=function(e){var t=s(e),n=this._header["content-type"];if(t&&s(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||c(e)||n||this.type("json"),this},m.prototype.parse=function(e){return i.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(e),this},m.prototype.serialize=function(e){return this._parser=e,this},v.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},v.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},v.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},v.prototype.withCredentials=function(){return this._withCredentials=!0,this},v.prototype.end=function(e){var t=this,n=this.xhr=l.getXHR(),i=this._query.join("&"),r=this._timeout,o=this._formData||this._data;this._callback=e||u,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(t){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var a=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=a);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=a)}catch(e){}if(r&&!this._timer&&(this._timer=setTimeout((function(){t.timedout=!0,t.abort()}),r)),i&&(i=l.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof o&&!c(o)){var s=this._header["content-type"],d=this._parser||l.serialize[s?s.split(";")[0]:""];!d&&y(s)&&(d=l.serialize["application/json"]),d&&(o=d(o))}for(var p in this.header)null!=this.header[p]&&n.setRequestHeader(p,this.header[p]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==o?o:null),this},l.Request=v,l.get=function(e,t,n){var i=l("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},l.head=function(e,t,n){var i=l("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},l.del=A,l.delete=A,l.patch=function(e,t,n){var i=l("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},l.post=function(e,t,n){var i=l("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},l.put=function(e,t,n){var i=l("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}},{"./is-object":30,"./request":32,"./request-base":31,emitter:18,reduce:27}],30:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==d(e)}},{}],31:[function(e,t,n){var i=e("./is-object");n.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.parse=function(e){return this._parser=e,this},n.timeout=function(e){return this._timeout=e,this},n.then=function(e,t){return this.end((function(n,i){n?t(n):e(i)}))},n.use=function(e){return e(this),this},n.get=function(e){return this._header[e.toLowerCase()]},n.getHeader=n.get,n.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},n.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},n.field=function(e,t){return this._getFormData().append(e,t),this}},{"./is-object":30}],32:[function(e,t,n){t.exports=function(e,t,n){return"function"==typeof n?new e("GET",t).end(n):2==arguments.length?new e("GET",t):new e(t,n)}},{}],33:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],34:[function(e,t,n){t.exports=function(e){return e&&"object"===d(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],35:[function(e,t,i){(function(t,n){var r=/%[sdj%]/g;i.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),u=i[n];n<o;u=i[++n])m(u)||!M(u)?a+=" "+u:a+=" "+s(u);return a},i.deprecate=function(e,r){if(A(n.process))return function(){return i.deprecate(e,r).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}};var o,a={};function s(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&i._extend(n,t),A(n.showHidden)&&(n.showHidden=!1),A(n.depth)&&(n.depth=2),A(n.colors)&&(n.colors=!1),A(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,t,n){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==i.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return g(r)||(r=l(e,r,n)),r}var o=function(e,t){if(A(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var a=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),I(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(t);if(0===a.length){if(x(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(I(t))return p(t)}var c,d="",M=!1,T=["{","}"];return f(t)&&(M=!0,T=["[","]"]),x(t)&&(d=" [Function"+(t.name?": "+t.name:"")+"]"),b(t)&&(d=" "+RegExp.prototype.toString.call(t)),w(t)&&(d=" "+Date.prototype.toUTCString.call(t)),I(t)&&(d=" "+p(t)),0!==a.length||M&&0!=t.length?n<0?b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=M?function(e,t,n,i,r){for(var o=[],a=0,s=t.length;a<s;++a)E(t,String(a))?o.push(h(e,t,n,i,String(a),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(h(e,t,n,i,r,!0))})),o}(e,t,n,s,a):a.map((function(i){return h(e,t,n,s,i,M)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,d,T)):T[0]+d+T[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,i,r,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),E(i,r)||(a="["+r+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),A(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function g(e){return"string"==typeof e}function A(e){return void 0===e}function b(e){return M(e)&&"[object RegExp]"===T(e)}function M(e){return"object"===d(e)&&null!==e}function w(e){return M(e)&&"[object Date]"===T(e)}function I(e){return M(e)&&("[object Error]"===T(e)||e instanceof Error)}function x(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function D(e){return e<10?"0"+e.toString(10):e.toString(10)}i.debuglog=function(e){if(A(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;a[e]=function(){var t=i.format.apply(i,arguments);console.error("%s %d: %s",e,n,t)}}else a[e]=function(){};return a[e]},i.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=f,i.isBoolean=y,i.isNull=m,i.isNullOrUndefined=function(e){return null==e},i.isNumber=v,i.isString=g,i.isSymbol=function(e){return"symbol"===d(e)},i.isUndefined=A,i.isRegExp=b,i.isObject=M,i.isDate=w,i.isError=I,i.isFunction=x,i.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===d(e)||void 0===e},i.isBuffer=e("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var e=new Date,t=[D(e.getHours()),D(e.getMinutes()),D(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.log=function(){console.log("%s - %s",C(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(e,t){if(!t||!M(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":34,_process:23,inherits:33}],36:[function(e,t,n){n.VAST=e("./lib/VAST")},{"./lib/VAST":37}],37:[function(e,t,n){"use strict";var i=e("lie"),r=e("superagent"),o=e("./utils/copy"),a=e("./utils/defaults"),s=e("./utils/extend"),u=e("./utils/nodeify_promise"),c=Array.prototype.push,l=e("./xml_from_vast"),p={inline:function(e){a({description:null,survey:null},e)},wrapper:function(){}},h={linear:function(e){a({trackingEvents:[],parameters:null,videoClicks:null},e),(e.mediaFiles||[]).forEach((function(e){a({id:null,bitrate:null,scalable:null,maintainAspectRatio:null,apiFramework:null},e)}))},companions:function(e){e.companions.forEach((function(e){a({expandedWidth:null,expandedHeight:null,apiFramework:null,trackingEvents:[],clickThrough:null,altText:null,parameters:null},e)}))},nonLinear:function(e){a({trackingEvents:[]},e),e.ads.forEach((function(e){a({id:null,expandedWidth:null,expandedHeight:null,scalable:null,maintainAspectRatio:null,minSuggestedDuration:null,apiFramework:null,clickThrough:null,parameters:null},e)}))}};function f(){}function y(e){o(e,this,!0),this.ads.forEach((function(e){a({system:{version:null},errors:[]},e),e.creatives.forEach((function(e){a({id:null,sequence:null,adID:null},e),h[e.type](e)})),p[e.type](e)})),this.__private__={wrappers:[],inlines:[]}}Object.defineProperties(y.prototype,{wrappers:{get:function(){var e=this.__private__.wrappers;return e.length=0,c.apply(e,this.filter("ads",(function(e){return"wrapper"===e.type}))),e}},inlines:{get:function(){var e=this.__private__.inlines;return e.length=0,c.apply(e,this.filter("ads",(function(e){return"inline"===e.type}))),e}}}),y.prototype.get=function(e){return((e||"").match(/[^\[\]\.]+/g)||[]).reduce((function(e,t){return e?e[t]:void 0}),this)},y.prototype.set=function(e,t){var n=function(){for(var t,n=/[^\[\]\.]+/g,i=[];t=n.exec(e);)i.push({token:t[0],type:o(t,t.index+t[0].length)});return i}(),i=n.pop(),r=n.reduce((function(e,t){return e[t.token]||(e[t.token]=new t.type)}),this);function o(e,t){switch(e.input.charAt(t)){case".":return Object;case"[":return Array;case"]":return o(e,t+1);default:return null}}if(!e)throw new Error("prop must be specified.");return r[i.token]=t},y.prototype.map=function(e,t){var n=this.get(e)||[],i=n.length,r=[];if(!(n instanceof Array))return r;for(var o=0;o<i;o++)r.push(t.call(this,n[o],o,n));return r},y.prototype.filter=function(e,t){var n=this.get(e)||[],i=n.length,r=[];if(!(n instanceof Array))return r;for(var o=0;o<i;o++)t.call(this,n[o],o,n)&&r.push(n[o]);return r},y.prototype.find=function(e,t){var n=this.get(e)||[],i=n.length;if(n instanceof Array)for(var r=0;r<i;r++)if(t.call(this,n[r],r,n))return n[r]},y.prototype.toPOJO=function(){var e=JSON.parse(JSON.stringify(this));return delete e.__private__,e},y.prototype.copy=function(){return new this.constructor(this.toPOJO())},y.prototype.resolveWrappers=function(){var e=isNaN(arguments[0])?1/0:arguments[0],t="function"==typeof arguments[0]?arguments[0]:arguments[1],n=this.constructor,o=this;function l(e,t){var n,i={linear:(n=e.creatives).filter(r("linear")),companions:n.filter(r("companions")),nonLinear:n.filter(r("nonLinear"))};function r(e){return function(t){return t.type===e}}return a(e.impressions,t.impressions),a(e.errors,t.errors),t.creatives.forEach((function(e){a(i[e.type].shift()||{},e)})),c.apply(t.creatives,"wrapper"!==t.type?[]:["linear","companions","nonLinear"].reduce((function(e,t){return e.concat(i[t])}),[])),t}return 0===e?i.reject(new Error("Too many redirects were made.")):u(i.all(this.map("wrappers",(function(e){return i.resolve(r.get(e.vastAdTagURI)).then((function(t){return{wrapper:e,response:n.pojoFromXML(t.text).ads}}))}))).then((function(e){var t=e.map((function(e){return e.wrapper})),i=e.map((function(e){return e.response}));return new n(s(o.toPOJO(),{ads:o.map("ads",(function(e){var n=t.indexOf(e),r=t[n],o=i[n];return o?o.map(l.bind(null,r)):[e]})).reduce((function(e,t){return e.concat(t)}))}))})).then((function(t){return t.get("wrappers.length")>0?t.resolveWrappers(e-1):t})),t)},y.prototype.toXML=function(){var e=this.validate();if(!e.valid)throw new Error("VAST is invalid: "+e.reasons.join(", "));return l(this)},y.prototype.validate=function(){var e=this,t=[],n={inline:function(t){var n={linear:function(e){a(e,{exists:["duration"],atLeastOne:["mediaFiles"]})},companions:function(t){e.get(t("companions")).forEach((function(e,n){a((function(e){return t("companions["+n+"]."+e)}),{exists:[],atLeastOne:["resources"]})}))},nonLinear:function(t){e.get(t("ads")).forEach((function(e,n){a((function(e){return t("ads["+n+"]."+e)}),{exists:[],atLeastOne:["resources"]})}))}};a(t,{exists:["title"],atLeastOne:["creatives"]}),e.get(t("creatives")).forEach((function(e,i){function r(e){return t("creatives["+i+"]."+e)}a(r,{exists:["type"],atLeastOne:[]}),(n[e.type]||f)(r)}))},wrapper:function(e){a(e,{exists:["vastAdTagURI"],atLeastOne:[]})}};function i(e,n){e||t.push(n)}function r(t){i(e.get(t),t+" is required")}function o(t){i(e.get(t+".length")>0,t+" must contain at least one value")}function a(e,t){t.exists.map(e).forEach(r),t.atLeastOne.map(e).forEach(o)}return a((function(e){return e}),{exists:[],atLeastOne:["ads"]}),this.get("ads").forEach((function(e,t){function i(e){return"ads["+t+"]."+e}a(i,{exists:["type","system.name"],atLeastOne:["impressions"]}),(n[e.type]||f)(i)})),{valid:0===t.length,reasons:0===t.length?null:t}},y.pojoFromXML=e("./pojo_from_xml"),y.fetch=function(e){var t="object"===d(arguments[1])&&arguments[1]||{},n="function"==typeof arguments[2]?arguments[2]:arguments[1],o=new DOMParser;e=decodeURI(e.replace(/&rsquo;/gim,"'"));var a=o.parseFromString(e,"text/xml"),s="parsererror"!=a.documentElement.nodeName&&a.documentElement.nodeName,c="VAST"==s,l=this;return u(c?i.resolve(e).then((function(n){var i=new l(l.pojoFromXML(e));return t.resolveWrappers?i.resolveWrappers(t.maxRedirects):i})):i.resolve(r.get(e).set(t.headers||{})).then((function(e){var n=new l(l.pojoFromXML(e.text));return t.resolveWrappers?n.resolveWrappers(t.maxRedirects):n})),n)},t.exports=y},{"./pojo_from_xml":38,"./utils/copy":40,"./utils/defaults":41,"./utils/extend":42,"./utils/nodeify_promise":43,"./xml_from_vast":50,lie:21,superagent:29}],38:[function(e,t,n){"use strict";var i=e("./utils/parse_xml"),r=e("./utils/timestamp_to_seconds"),o=e("./utils/string_to_boolean"),a=e("./utils/extend"),s=e("./utils/trim_object"),u=e("./utils/numberify"),c={linear:function(e){var t,n,i,a=d(e.find("Duration")),s=e.find("Tracking"),c=d(e.find("AdParameters")),l=e.find("VideoClicks")[0],p=e.find("MediaFile");return{type:"linear",duration:r(a.value)||void 0,trackingEvents:s.map((function(e){return{event:e.attributes.event,uri:e.value}})),parameters:c.value,videoClicks:l&&(t=d(l.find("ClickThrough")),n=l.find("ClickTracking"),i=l.find("CustomClick"),{clickThrough:t.value,clickTrackings:n.map((function(e){return e.value})),customClicks:i.map((function(e){return{id:e.attributes.id,uri:e.value}}))}),mediaFiles:p.map((function(e){var t=e.attributes;return{id:t.id,delivery:t.delivery,type:t.type,uri:e.value,bitrate:u(t.bitrate),width:u(t.width),height:u(t.height),scalable:o(t.scalable),maintainAspectRatio:o(t.maintainAspectRatio),apiFramework:t.apiFramework}}))}},companions:function(e){return{type:"companions",companions:e.find("Companion").map((function(e){var t=e.find("Tracking"),n=d(e.find("CompanionClickThrough")),i=d(e.find("AltText")),r=d(e.find("AdParameters"));return{id:e.attributes.id,width:u(e.attributes.width),height:u(e.attributes.height),expandedWidth:u(e.attributes.expandedWidth),expandedHeight:u(e.attributes.expandedHeight),apiFramework:e.attributes.apiFramework,resources:p(e),trackingEvents:t.map((function(e){return{event:e.attributes.event,uri:e.value}})),clickThrough:n.value,altText:i.value,parameters:r.value,adSlotId:e.attributes.adSlotId||""}}))}},nonLinear:function(e){var t=e.find("NonLinear"),n=e.find("Tracking");return{type:"nonLinear",ads:t.map((function(e){var t=d(e.find("NonLinearClickThrough")),n=d(e.find("AdParameters"));return{id:e.attributes.id,width:u(e.attributes.width),height:u(e.attributes.height),expandedWidth:u(e.attributes.expandedWidth),expandedHeight:u(e.attributes.expandedHeight),scalable:o(e.attributes.scalable),maintainAspectRatio:o(e.attributes.maintainAspectRatio),minSuggestedDuration:r(e.attributes.minSuggestedDuration)||void 0,apiFramework:e.attributes.apiFramework,resources:p(e),clickThrough:t.value,parameters:n.value}})),trackingEvents:n.map((function(e){return{event:e.attributes.event,uri:e.value}}))}}},l={inline:function(e){var t=d(e.find("AdTitle")),n=d(e.find("Description")),i=d(e.find("Survey")),r=d(e.find("isHLSPlayable"))||"";return console.log("value of hlsplayable is:".concat(r.value)),{type:"inline",title:t.value,description:n.value,survey:i.value,isHLSPlayable:r.value||""}},wrapper:function(e){return{type:"wrapper",vastAdTagURI:d(e.find("VASTAdTagURI")).value}}};function d(e){return e[0]||{attributes:{}}}function p(e){return e.find("StaticResource,IFrameResource,HTMLResource").map((function(e){return{type:e.tag.replace(/Resource$/,"").toLowerCase(),creativeType:e.attributes.creativeType,data:e.value}}))}t.exports=function(e){var t=i(e);if(!t("VAST")[0])throw new Error("["+e+"] is not a valid VAST document.");return s({version:d(t("VAST")).attributes.version,vppLayoutOption:function(){try{var e=t("Ad").find((function(e){return e.find("VideoLayoutWeb").length>0}));return e?e.find("VideoLayoutWeb")[0].value:""}catch(e){return""}}(),isHLSPlayable:function(){try{var e=t("Ad").find((function(e){var t=e.find("Extensions");if(0===t.length)return!1;var n=t[0].find("Extension");if(0===n.length)return!1;var i=n[0].find("vmax");if(0===i.length)return!1;var r=i[0].find("adparams");return 0!==r.length&&0!==r[0].find("isHLSPlayable").length}));return void 0!==e?e.find("isHLSPlayable")[0].value:""}catch(e){return""}}(),videoCTA:function(){try{var e=t("Ad").find((function(e){return e.find("OnVideoAdCTA").length>0}));return e?e.find("OnVideoAdCTA")[0].value:""}catch(e){return""}}(),ads:t("Ad").map((function(e){var t=d(e.find("Wrapper,InLine")).tag.toLowerCase(),n=d(e.find("AdSystem")),i=e.find("Error"),r=e.find("Impression"),o=e.find("Creative");return a({id:e.attributes.id,system:{name:n.value,version:n.attributes.version},errors:i.map((function(e){return e.value})),impressions:r.map((function(e){return{uri:e.value,id:e.attributes.id}})),creatives:o.map((function(e){var t=function(){switch(d(e.find("Linear,CompanionAds,NonLinearAds")).tag){case"Linear":return"linear";case"CompanionAds":return"companions";case"NonLinearAds":return"nonLinear"}}();return a({id:e.attributes.id,sequence:u(e.attributes.sequence),adID:e.attributes.AdID},c[t](e))}))},l[t](e))}))},!0)}},{"./utils/extend":42,"./utils/numberify":44,"./utils/parse_xml":45,"./utils/string_to_boolean":47,"./utils/timestamp_to_seconds":48,"./utils/trim_object":49}],39:[function(e,t,n){"use strict";function i(e){return null!=e}function r(e){return void 0!==e?String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function o(e){return e.cdata?(void 0!==(t=e.value)?function(e){for(var t,n,i=[],r=/]]>/g,o=0;t=r.exec(e);)n=t.index+2,i.push(t.input.substring(o,n)),o=n;return i.push(e.substring(o,e.length)),i}(String(t)):[""]).reduce((function(e,t){return e+"<![CDATA["+t+"]]>"}),""):r(e.value);var t}t.exports=function(e,t){return['<?xml version="1.0" encoding="UTF-8"?>'].concat(function e(t,n,a){var s=t.tag,u=t.attributes||{},c=Object.keys(u),l=t.children||[],d=t.value,p=l.length>0,h=c.every((function(e){return i(u[e])}))&&c.length>0,f=i(d)||p||h,y=function(e){for(var t="";e--;)t+=" ";return t}(n),m="<"+s+Object.keys(u).reduce((function(e,t){return a&&!i(u[t])?e:e+" "+t+'="'+r(u[t])+'"'}),"")+">",v="</"+s+">";return!a||f||t.required?p?[y+m].concat(t.children.reduce((function(t,i){return t.concat(e(i,n+4,a))}),[]),[y+v]):[y+m+o(t)+v]:[]}(e,0,t)).join("\n")}},{}],40:[function(e,t,n){"use strict";var i=Array.prototype.push;function r(e,t,n){return Object.keys(e).reduce((function(t,i){return t[i]=n?a(e[i],null,!0):e[i],t}),t||{})}function o(e,t,n){var r=t||[];return i.apply(r,n?e.map((function(e){return a(e,null,!0)})):e),r}function a(e){var t="object"===d(arguments[1])?arguments[1]:null,n="boolean"==typeof arguments[1]?arguments[1]:arguments[2];return Object(e)!==e?e:e instanceof Array?o(e,t,n):r(e,t,n)}t.exports=a},{}],41:[function(e,t,n){"use strict";var i=Array.prototype.push;function r(e){return Object(e)===e}function o(e){return e instanceof Array}t.exports=function e(t,n){return[t,n].every(o)?(i.apply(n,t.filter((function(e){return n.indexOf(e)<0}))),n):Object.keys(t).reduce((function(n,i){return[t[i],n[i]].every(r)&&e(t[i],n[i]),i in n||(n[i]=t[i]),n}),n)}},{}],42:[function(e,t,n){"use strict";t.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduce((function(e,t){return Object.keys(t||{}).reduce((function(e,n){return e[n]=t[n],e}),e)}),{})}},{}],43:[function(e,t,n){"use strict";t.exports=function(e,t){return"function"!=typeof t||e.then((function(e){t(null,e)}),(function(e){t(e)})),e}},{}],44:[function(e,t,n){"use strict";t.exports=function(e){if(/string|number|boolean/.test(d(e)))return isNaN(e)?void 0:Number(e)}},{}],45:[function(e,t,n){"use strict";var i=Array.prototype.map,r=Array.prototype.filter,o=Array.prototype.reduce,a=new DOMParser;function s(e){var t=e.childElementCount>0;return{tag:e.tagName,value:t?null:e.textContent,attributes:o.call(e.attributes,(function(e,t){return e[t.name]=t.value,e}),{}),find:function(t){return u(e.querySelectorAll(t))},children:function(){return r.call(e.childNodes,(function(e){return e instanceof Element})).map(s)}}}function u(e){return i.call(e,s)}t.exports=function(e){var t=a.parseFromString(e,"application/xml");return function(e){return u(t.querySelectorAll(e))}}},{}],46:[function(e,t,n){"use strict";function i(e){return(e>9?"":"0")+e.toString()}t.exports=function(e){return Number(e)!==e?null:[Math.floor(e/60/60),Math.floor(e/60%60),Math.floor(e%60%60)].map(i).join(":")}},{}],47:[function(e,t,n){"use strict";t.exports=function(e){switch((e||"").toLowerCase()){case"true":return!0;case"false":return!1}}},{}],48:[function(e,t,n){"use strict";t.exports=function(e){var t=(e||"").match(/^(\d\d):(\d\d):(\d\d)$/);return t&&t.slice(1,4).map(parseFloat).reduce((function(e,t,n){return e+t*Math.pow(60,Math.abs(n-2))}),0)}},{}],49:[function(e,t,n){"use strict";t.exports=function e(t,n){return Object(t)!==t?t:Object.keys(t).reduce((function(i,r){return n&&t[r]instanceof Array?i[r]=t[r].filter((function(e){return void 0!==e})).map((function(t){return e(t,!0)})):n&&t[r]instanceof Object?i[r]=e(t[r],!0):void 0!==t[r]&&(i[r]=t[r]),i}),{})}},{}],50:[function(e,t,n){"use strict";var i=e("./utils/seconds_to_timestamp"),r=e("./utils/compile_xml"),o={linear:function(e){return{tag:"Linear",children:[{tag:"Duration",value:i(e.duration)},a(e.trackingEvents),u(e)].concat(e.videoClicks?[{tag:"VideoClicks",children:[{tag:"ClickThrough",value:e.videoClicks.clickThrough,cdata:!0}].concat(e.videoClicks.clickTrackings.map((function(e){return{tag:"ClickTracking",value:e,cdata:!0}})),e.videoClicks.customClicks.map((function(e){return{tag:"CustomClick",attributes:{id:e.id},value:e.uri,cdata:!0}})))}]:[],[{tag:"MediaFiles",children:e.mediaFiles.map((function(e){return{tag:"MediaFile",attributes:{id:e.id,width:e.width,height:e.height,bitrate:e.bitrate,type:e.type,delivery:e.delivery,scalable:e.scalable,maintainAspectRatio:e.maintainAspectRatio,apiFramework:e.apiFramework},value:e.uri,cdata:!0}}))}])}},companions:function(e){return{tag:"CompanionAds",children:e.companions.map((function(e){return{tag:"Companion",attributes:{id:e.id,width:e.width,height:e.height,expandedWidth:e.expandedWidth,expandedHeight:e.expandedHeight,apiFramework:e.apiFramework},children:s(e.resources).concat([a(e.trackingEvents),{tag:"CompanionClickThrough",value:e.clickThrough,cdata:!0},{tag:"AltText",value:e.altText},u(e)])}}))}},nonLinear:function(e){return{tag:"NonLinearAds",children:e.ads.map((function(e){return{tag:"NonLinear",attributes:{id:e.id,width:e.width,height:e.height,expandedWidth:e.expandedWidth,expandedHeight:e.expandedHeight,scalable:e.scalable,maintainAspectRatio:e.maintainAspectRatio,minSuggestedDuration:i(e.minSuggestedDuration),apiFramework:e.apiFramework},children:s(e.resources).concat([{tag:"NonLinearClickThrough",value:e.clickThrough,cdata:!0},u(e)])}})).concat([a(e.trackingEvents)])}}};function a(e){return{tag:"TrackingEvents",children:e.map((function(e){return{tag:"Tracking",attributes:{event:e.event},value:e.uri,cdata:!0}}))}}function s(e){return e.map((function(e){return{tag:function(e){switch(e){case"static":return"StaticResource";case"iframe":return"IFrameResource";case"html":return"HTMLResource"}}(e.type),attributes:{creativeType:e.creativeType},value:e.data,cdata:!0}}))}function u(e){return{tag:"AdParameters",value:e.parameters}}t.exports=function(e){return r({tag:"VAST",attributes:{version:e.get("version")},children:e.map("ads",(function(e){return{tag:"Ad",attributes:{id:e.id},children:[{tag:function(){switch(e.type){case"inline":return"InLine";case"wrapper":return"Wrapper"}}(),children:[{tag:"AdSystem",attributes:{version:e.system.version},value:e.system.name},{tag:"AdTitle",value:e.title},{tag:"Description",value:e.description},{tag:"isHLSPlayable",value:e.isHLSPlayable},{tag:"Survey",value:e.survey,cdata:!0},{tag:"VASTAdTagURI",value:e.vastAdTagURI,cdata:!0}].concat(e.errors.map((function(e){return{tag:"Error",value:e,cdata:!0}})),e.impressions.map((function(e){return{tag:"Impression",value:e.uri,cdata:!0,attributes:{id:e.id}}})),[{tag:"Creatives",children:e.creatives.map((function(e){return{tag:"Creative",attributes:{id:e.id,sequence:e.sequence,AdID:e.adID},children:[(t=e.type,o[t](e))]};var t})),required:!0}])}]}}))},!0)}},{"./utils/compile_xml":39,"./utils/seconds_to_timestamp":46}]},{},[1])(1)},"object"===d(t)&&void 0!==e?e.exports=a():(r=[],void 0===(o="function"==typeof(i=a)?i.apply(t,r):i)||(e.exports=o));var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.mediaFiles,i=t.vastJson,r=t.isContentPlayerFullscreen,o=t.vpaid,a=t.skipDelay,s=void 0!==a&&a,u=t.customErrorFunction,c=void 0===u?function(){}:u,l=t.customAdLoadedFunction,d=void 0===l?function(){}:l,p=t.adBreakPages,h=void 0===p?{}:p,f=t.muteState,y=void 0!==f&&f,m=t.vastPlayer,v=t.showTapToUnmuteButton,g=t.isVerticalVideo,A=t.loop,b=t.previewImage,M=t.videoDurationFromInlineVast,w=void 0===M?0:M,I=this;this.isVerticalVideo=g,this.devices={isPhone:-1!=navigator.userAgent.indexOf("iPhone")},this.VASTPlayer=m,this.vastJson=i,this.isContentPlayerFullscreen=r,this.muteState=y,this.showTapToUnmuteButton=v,this.mediaFiles=n.uri,this.mediaFileType=n.type,this.skip=s,this.loop=A,this.previewImage=b,this.videoDurationFromInlineVast=isFinite(w)?w:0,this.videoCTA=function(){try{return I.vastJson.videoCTA||!1}catch(e){return!1}}(),this.playerContainerId="playerContainer_"+(Date.now()||(new Date).getTime()),this.cta=function(){try{return!!I.vastJson.ads[0].creatives[0].videoClicks.clickTrackings.length&&(I.videoCTA||"Visit Advertiser")}catch(e){return!1}}(),this.videoSrc=this.mediaFiles,this.templateOption=function(){try{return I.vastJson.vppLayoutOption}catch(e){return""}}(),this.customErrorFunction=c,this.customAdLoadedFunction=d,this.muteState=y,this.init(),this.vpaid=o;var x=void 0!==document.fullscreen?document.fullscreen:document.fullscreenElement;this.isFullscreenMode=x||!1,this.lastPlayTime=0,this.currentTime=0,this.isSkippableStateChange=!1,this.adBreakPages=h}var t,n,i;return t=e,(n=[{key:"getTemplate",value:function(){return this.template}},{key:"init",value:function(){var e=document.createElement("div"),t=this.getStyle(),n=this.playerContainerId;e.innerHTML=this.createTemplate(),this.playerContainer=e.querySelector("#".concat(n)),this.videoContainer=e.querySelector("#".concat(n," .__VIDEO_PLAYER__")),this.player=e.querySelector("#".concat(n," .vservPlayer")),this.skipTime=e.querySelector("#".concat(n," .skipTime")),this.skipBtn=e.querySelector("#".concat(n," .skipBtn")),this.seekBar=e.querySelector("#".concat(n," .seekBar")),this.runningTime=e.querySelector("#".concat(n," .runningTime")),this.hidden=e.querySelector("#".concat(n," .hidden")),this.fullScreenBtn=e.querySelector("#".concat(n," .fullScreenBtn")),this.clickToAction=e.querySelector("#".concat(n," .clickToAction")),this.overlay=e.querySelector("#".concat(n," .overlay")),this.videoSource=this.player.querySelector("source"),this.buttPlayPause=e.querySelector(".butt_play_pause"),this.buttMuteUnmuteDefaultTemplate=e.querySelector(".butt_mute_unmute"),this.buttMuteUnmute=e.querySelector("#".concat(n," .label_unmute")),this.buttPlayIcon=e.querySelector(".play_icon_iphone"),this.buttReplay=e.querySelector(".butt_replay"),this.previewImageContainer=e.querySelector(".poster_image_end"),this.player.ontimeupdate=this.onTimeUpdate.bind(this),this.player.onloadedmetadata=this.onLoadedMetaData.bind(this),this.player.onplaying=this.onPlay.bind(this),this.player.onpause=this.onPause.bind(this),this.player.onwaiting=this.onWaiting.bind(this),""!=this.templateOption&&(this.player.onclick=this.onPlayerUnmute.bind(this)),this.buttPlayPause.onclick=this.onPlayerClick.bind(this),this.buttMuteUnmute.onclick=this.onPlayerUnmute.bind(this),this.buttMuteUnmuteDefaultTemplate.onclick=this.onPlayerMuteUnmute.bind(this),this.player.onerror=this.onPlayerError.bind(this),this.videoSource.onerror=this.onPlayerError.bind(this),this.fullScreenBtn.onclick=this.onFullScreenMode.bind(this),this.clickToAction.onclick=this.onClickToAction.bind(this),this.buttPlayIcon.onclick=this.onPlayIconClick.bind(this),this.buttReplay.onclick=this.onReplayClick.bind(this),this.player.onended=this.showReplayButton.bind(this),this.isInViewTriggerred=!1,e.firstChild.insertBefore(t,e.firstChild.firstChild);try{"function"==typeof Hls&&Hls.isSupported()&&-1!=this.mediaFiles.indexOf("m3u8")&&!this.devices.isPhone&&(this.hls=new Hls({maxBufferLength:14,defaultAudioCodec:"mp4a.40.2",enableSoftwareAES:!1}),this.hls.loadSource(this.mediaFiles),this.hls.attachMedia(this.player))}catch(e){console.log("HLS is not Supported",e)}this.template={div:e.firstChild,video:e.querySelector("video"),templateOption:this.templateOption||!1,playVideo:this.playVideo.bind(this),inView:this.inView.bind(this),updateIconButtonPlayPause:this.updateIconButtonPlayPause.bind(this)},this.isManuallyPaused=!1,this.isViewportPaused=!1,this.isBrowserPaused=!1,this.playerDestroyed=!1,this.isProgrammaticallyPaused=!1,document.addEventListener("fullscreenchange",this.setFullScreenFlag.bind(this)),document.addEventListener("mozfullscreenchange",this.setFullScreenFlag.bind(this)),document.addEventListener("webkitfullscreenchange",this.setFullScreenFlag.bind(this)),document.addEventListener("msfullscreenchange",this.setFullScreenFlag.bind(this)),this.checkIfVideoHasGotStuck.apply(this)}},{key:"updateIconButtonPlayPause",value:function(e){if("string"==typeof e)switch(e){case"pause":this.buttPlayPause.classList.add("playing");break;default:this.buttPlayPause.classList.remove("playing")}}},{key:"onReplayClick",value:function(){this.devices.isPhone&&(this.player.currentTime=.1),this.vpaid.resumeAd()}},{key:"showTapToUnmuteMethod",value:function(){var e=(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|Windows Phone/i.test(navigator.userAgent)||window.innerWidth<=480)&&this.player.muted;try{this.buttMuteUnmute.className="label_unmute ".concat(e?"show":""," ").concat(""),e&&this.buttMuteUnmute.classList.add("onlyShowIcon")}catch(e){}}},{key:"playVideo",value:function(e){var t=this;try{var n=this.player,i=this.showPlayIcon.bind(this);return function(e){var i=void 0!==e&&e;n.muted=i,n.volume=i?0:1,console.log("Video status(1) > Muted: ".concat(n.muted,", Volume: ").concat(n.volume));var o=n.play();if("undefined"!==o)return o.then(function(){t.showTapToUnmuteMethod(),t.setPropsOnMuteOrUmuteState()}.bind(t)).catch(r)}(e)}catch(e){console.warn("Could not play the video!",e)}function r(){n.muted=!0,n.volume=0,n.setAttribute("muted","true"),console.log("Video status(2) > Muted: ".concat(n.muted,", Volume: ").concat(n.volume));var e=n.play();if("undefined"!==e)return e.then(function(){t.showTapToUnmuteMethod(),t.setPropsOnMuteOrUmuteState()}.bind(t)).catch(o)}function o(){return console.warn("Video status(3) > Video did not play!"),i(),this.isProgrammaticallyPaused=!0,n.dataset.isProgrammaticallyPaused="true",!1}}},{key:"getConnectionType",value:function(){var e=1;try{var t=(navigator.connection||navigator.mozConnection||navigator.webkitConnection).type;e="wifi"==t?1:"cellular"==t?2:1}catch(t){e=!1}return e}},{key:"checkIfVideoHasGotStuck",value:function(){var e=this,t=void 0!==this.getConnectionType&&1===this.getConnectionType()?8e3:1e4,n=/(Mac|iPod|iPad)/i.test(navigator.platform),i=0,r=setInterval((function(){document.getElementById(e.playerContainerId)&&e.player||clearInterval(r);var o=e.isManuallyPaused||e.isViewportPaused||e.isBrowserPaused||e.isProgrammaticallyPaused||e.player.dataset.hasOwnProperty("isProgrammaticallyPaused")&&"true"==e.player.dataset.isProgrammaticallyPaused;if(e.currentTime!==e.lastPlayTime||o)i=0,e.lastPlayTime=e.currentTime;else if((i+=500)>=t)try{var a=e.player.buffered&&e.player.buffered.length>0;if(console.log(">>>> Video stuck check > isAppleExceptIphone:",n," :: readystate:",e.player.readyState,":: Ended:",e.player.ended,":: buffered:",a),n||/0|1|2/.test(e.player.readyState)||e.player.ended||!a)clearInterval(r),e.player.ended||e.customErrorFunction(405),!e.devices&&e.hls&&e.hls.destroy();else if(e.devices.isPhone)clearInterval(r),e.showPlayIcon();else{var s=e.player.muted;e.playVideo(s),i=0,e.lastPlayTime=e.currentTime}}catch(t){clearInterval(r),e.customErrorFunction(405),!e.devices.isPhone&&e.hls&&e.hls.destroy()}}),500)}},{key:"setFullScreenFlag",value:function(){var e=void 0!==document.fullscreen?document.fullscreen:document.fullscreenElement;e||(this.isFullscreenMode=!1,this.disableFullscreenMode()),e?this.player.classList.add("video-height-full-screen"):this.player.classList.remove("video-height-full-screen")}},{key:"inView",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){if(!this.isInViewTriggerred){var e=this;this.isInViewTriggerred=!0;var t="#".concat(this.playerContainerId);if(inView.threshold(.5),inView.is(document.querySelector(t))){if(e.isManuallyPaused||e.isBrowserPaused||e.player.isDeveloperPaused)return;e.isViewportPaused=!1,e.vpaid.emit("onInView")}inView(t).on("enter",(function(t){e.isManuallyPaused||e.isBrowserPaused||e.player.isDeveloperPaused||(e.isViewportPaused=!1,e.vpaid.emit("onInView"),this.player.ended||e.previewImageContainer.classList.add("hidden"))})),inView(t).on("exit",(function(t){e.isManuallyPaused||e.isBrowserPaused||e.player.isDeveloperPaused||(e.isViewportPaused=!0,e.vpaid.emit("onOutOfView"))}));var n=document.querySelector(t);setTimeout((function(){if(n&&!inView.is(n)){if(console.log("on video start check: out of view > paused",n),e.isManuallyPaused||e.isBrowserPaused||e.player.isDeveloperPaused)return;e.isViewportPaused=!0,e.vpaid.emit("onOutOfView")}}),100),document.addEventListener("visibilitychange",(function(t){e.isManuallyPaused||e.isViewportPaused||e.player.isDeveloperPaused||(document.hidden?(e.isBrowserPaused=!0,e.vpaid.emit("onOutOfView")):(e.isBrowserPaused=!1,e.vpaid.emit("onInView")))}))}}))},{key:"createTemplate",value:function(){var e="",t=void 0!==document.fullscreen?document.fullscreen:document.fullscreenElement,n=(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|Windows Phone/i.test(navigator.userAgent)||window.innerWidth,this.muteState),i=(this.showTapToUnmuteButton,this.isVerticalVideo);console.log("The this.player.muted state is: ".concat(n)),0===parseInt(this.skip)?e="Skip Ad":parseInt(this.skip)>0&&(e='Skip Ad in <span class="skipTime"></span>s');var r=-1===parseInt(this.skip)||this.skip>=this.videoDurationFromInlineVast,o=this.mediaFileType&&'type="'.concat(this.mediaFileType,'"');return this.html='<div class="player _player_ads_vmax_" id="'.concat(this.playerContainerId,'">\n    <div class="__VIDEO_PLAYER__">\n    <div class="overlay">\n          <div class="loader"></div>\n      </div>\n      <div class="play_icon_iphone"></div>\n      <video class="video vservPlayer ').concat(i?"verticalVideo":"",'" controls="false" id="vservPlayer_').concat(this.playerContainerId,'">\n          <source src="').concat(this.videoSrc,'" ').concat(o||"",' />\n      </video>\n      <div class="poster_image_end"></div>\n      <div class="cta-container clickToAction').concat(this.cta?"":" hidden",'">\n          <button class="cta">\n              ').concat(this.cta,'\n              <img class="cta-icon" alt="">\n          </button>\n      </div>\n      <span class="label_unmute ').concat(""," ").concat("",'">\n        <span class="tap-icon"></span>\n        <span class="tap-txt hidden">Tap to unmute</span>\n      </span>\n      <div class="progress-time">\n          <span class="lbl_ad">Ad</span><div class="time runningTime"></div>\n      </div>\n      <div class="_skip-button').concat(r?" hide":"",'">\n          <button class="btn skipBtn _deactive">\n            ').concat(e,'\n          </button>\n      </div>\n      <div class="full-screen-icon fullScreenBtn').concat(/iPhone|iPad/gi.test(navigator.userAgent)?" hide":"",'"><div class="').concat(t?"zoom-in":"zoom-out",'" alt="zoom-in"></div></div>\n      <div class="hidden"></div>\n      <div class="progress-bar">\n          <div class="bar seekBar"></div>\n      </div>\n      <button class="butt_replay hidden"></button>\n      <button class="butt_play_pause playing"></button>\n      <button class="butt_mute_unmute muted"></button>\n      </div>\n    </div>'),this.html}},{key:"getStyleText",value:function(){var e="\n    #".concat(this.playerContainerId," {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        z-index: 95;\n        font-family: Arial, Helvetica, sans-serif;\n        font-size: 12px;\n        color: #FFFFFF;\n        letter-spacing: 0;\n    }\n    #").concat(this.playerContainerId," .hidden{\n      display:none;\n    }\n    #").concat(this.playerContainerId," button{\n      -webkit-tap-highlight-color: rgba(0,0,0,0);\n    }\n    #").concat(this.playerContainerId," .player video::-webkit-media-controls {\n        display: none !important;\n    }\n\n    #").concat(this.playerContainerId," .video {\n        width:100%;\n        height:100%;\n        background:black;\n    }\n    @media (orientation: portrait) {\n      #").concat(this.playerContainerId," .video.verticalVideo{\n        object-fit:cover;\n      }\n      .fullscreenheight{\n        height:100% !important;\n      }\n    }\n    #").concat(this.playerContainerId," .poster_image_end{\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: #000 url('").concat(this.previewImage||"","') no-repeat center center;\n      background-size: cover;\n      display: block;\n      z-index: 1;\n    }\n    #").concat(this.playerContainerId," .video-height-full-screen {\n        height: 100% !important;\n    }\n    #").concat(this.playerContainerId," .video-height-full-screen.verticalVideo {\n      object-fit:contain;\n     }\n    #").concat(this.playerContainerId," .progress-bar {\n        position: absolute;\n        height: 3px;\n        left: 0;\n        right: 0;\n        bottom: -1px;\n    }\n\n    #").concat(this.playerContainerId," .bar {\n        background: #FF9800;\n        width: 0%;\n        height: 3px;\n        border-radius: 4px;\n    }\n    #").concat(this.playerContainerId," .tap-icon{\n        max-width: 25px;\n        width: 23px;\n        height: 23px;\n        background-image:url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMi4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAyOTYuOSAyOTQuNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjk2LjkgMjk0LjQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNDNEM0QzQ7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMjAuMiwxNDguN2MwLTI5LjMtMTYuOS01NC40LTQxLjMtNjYuNnYzNi41bDQwLjUsNDAuNUMyMTkuOSwxNTUuOCwyMjAuMiwxNTIuMywyMjAuMiwxNDguN0wyMjAuMiwxNDguN3oNCgkgTTI2MS42LDE0OC43YzAsMTUuNS0zLjMsMzAuMS04LjksNDMuN2wyNSwyNWMxMC45LTIwLjUsMTctNDMuOCwxNy02OC42YzAtNzAuOC00OS40LTEzMC0xMTUuNy0xNDQuOXYzMy45DQoJQzIyNi43LDUyLDI2MS42LDk2LjMsMjYxLjYsMTQ4Ljd6IE0xOC0wLjFMLTMsMjAuN2w3OCw3OC4ySC0zdjk5LjJoNjYuMWw4Mi43LDgyLjdWMTY5LjVsNzAuMyw3MC4zYy0xMS4xLDguNi0yMy41LDE1LjQtMzcuMiwxOS41DQoJdjM0LjFjMjIuOC01LjEsNDMuNS0xNS43LDYxLTI5LjlsMzMuNywzMy45bDIxLTIxTDE0NS44LDEyNy41TDE4LjItMC4xSDE4eiBNMTQ1LjcsMTYuM2wtMzQuNiwzNC40bDM0LjYsMzQuNlYxNi40VjE2LjN6Ii8+DQo8L3N2Zz4NCg==');\n        background-position: center;\n        background-size: 11px auto;\n        background-repeat: no-repeat;\n        box-sizing: border-box;\n      }\n    #").concat(this.playerContainerId," .label_unmute{\n      background: rgba(0, 0, 0, 0.5);\n      border: rgba(255, 255, 255, 0.5) 1px solid;\n      font-family: Arial, Helvetica, sans-serif;\n      font-size: 14px;\n      width: 30px;\n      box-sizing: border-box;\n      white-space: nowrap;\n      overflow: hidden;\n      pointer-events: pointer;\n      z-index:10;\n      cursor: pointer;\n      position:absolute;\n      top:0px;\n      left:0px;\n      margin:16px;\n      color:#fff;\n      border-radius: 5px;\n      display:none;\n      height: 24px;\n      border: 1px solid #c4c4c4;\n      border: 1px solid rgba(196,196,196,0.6);\n      border-width: 0.8px\n    }\n    #").concat(this.playerContainerId," .label_unmute.show.onlyShowIcon{\n      width: 24px;\n      padding-left:0px;\n    }\n    \n    #").concat(this.playerContainerId," .label_unmute.showText{\n      width: 120px;\n      animation: tap2unmute 0.5s linear forwards;\n      animation-delay: 3s;\n      height: 24px;\n      color:#fff;\n      font-family: Noto Sans, Arial, sans-serif;\n      font-size: 12px;\n      line-height: 16px;\n      padding-left: 4px;\n    }\n   \n    #").concat(this.playerContainerId," .label_unmute, .label_unmute span {vertical-align:middle;}\n    \n    @keyframes tap2unmute {\n        from {width: 120px;}\n        to {width: 32px;padding-left:3px;}\n    }\n    #").concat(this.playerContainerId," .label_unmute.show span.tap-icon, \n    #").concat(this.playerContainerId," .label_unmute.showText span.tap-txt{\n      display:inline-block;\n      padding-top:0px;\n    }\n    #").concat(this.playerContainerId," .label_unmute.show, #").concat(this.playerContainerId," .label_unmute.showText{\n      display:inline-block;\n\n    }\n    \n\n    #").concat(this.playerContainerId," .cta-container {\n        position: absolute;\n        bottom: 0px;\n        right: 0;\n        color: antiquewhite;\n        cursor: pointer;\n    }\n\n    #").concat(this.playerContainerId," .full-screen-icon, \n    #").concat(this.playerContainerId," .mute-unmute-icon.isiPhone.visible {\n        position: absolute;\n        bottom: 8px;\n        right: 10px;\n        width: 100%;\n        max-width: 20px;\n        height: 18px;\n        color: black;\n        cursor: pointer;\n        text-align: center;\n        z-index:1;\n        display:none;\n    }\n    #").concat(this.playerContainerId," .mute-unmute-icon.isiPhone.visible{\n      max-width: 30px;\n      height:30px;\n    }\n\n    #").concat(this.playerContainerId," .cta {\n        padding:16px;\n        align-content: center;\n        vertical-align: middle;\n        background: transparent;\n        border: none;\n        color: #dadae9;\n        cursor: pointer;\n        font-family: Noto Sans, Arial, sans-serif;\n        font-size: 12px;\n        line-height: 16px;\n        \n    }\n\n    #").concat(this.playerContainerId," ._skip-button {\n      position: absolute;\n      right: 0;\n      top: 0;\n      bottom: auto;\n      margin:16px;\n      margin-bottom:15px;\n      background: #5d564f85;\n      text-align: center;\n      display: inline-block;\n      background: rgb(0,0,0, 0.5);\n      border: 1px solid #c4c4c4;\n      border: 1px solid rgba(196,196,196,0.6);\n      border-width: 0.8px;\n      border-radius: 4px;\n      line-height: 1em;\n      vertical-align: middle;\n      height:24px; \n      box-sizing:border-box;\n  }\n\n    #").concat(this.playerContainerId," ._skip-button > ._deactive {\n      cursor: default;\n    }\n\n    #").concat(this.playerContainerId," .progress-time {\n      position: absolute;\n      left: 0;\n      bottom: 0px;\n      margin: 16px ;\n      font-family: Noto Sans, Arial, sans-serif;\n      line-height: 1em;\n      padding: 3px 5px;\n      font-size: 12px;\n      line-height: 16px;\n      height:16px;\n      padding: 0px;\n      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.5));\n    }\n\n    #").concat(this.playerContainerId," .progress-time .lbl_ad,\n    #").concat(this.playerContainerId," .progress-time .lbl_adbreak {\n      display: inline-block;\n      margin-right: 4px;\n    }\n    #").concat(this.playerContainerId," .progress-time .lbl_adbreak{\n      margin-right: 4px;\n    }\n\n    #").concat(this.playerContainerId,' .progress-time .lbl_adbreak:after{\n      content: ".";\n      position: relative;\n      display: inline-block;\n      top: -3px;\n      margin-left: 4px;\n    }\n    #').concat(this.playerContainerId,' .progress-time .singleAd:before{\n      content: ".";\n      position: relative;\n      display: inline-block;\n      top: -3px;\n      margin-right: 4px;\n    }\n\n    #').concat(this.playerContainerId," .time {\n        display: inline-block;\n    }\n\n    #").concat(this.playerContainerId," .btn {\n      background: transparent;\n      border: none;\n      color: aliceblue;\n      cursor: pointer;\n      font-size: 12px;\n      line-height:16px;\n      padding: 0px 9px;\n      height: 100%;\n    }\n    #").concat(this.playerContainerId," .btn.skipBtn{\n      color:#c4c4c4;\n      font-family: Noto Sans, Arial, sans-serif;\n      height: 22px;\n    }\n\n    #").concat(this.playerContainerId," .zoom-in {\n        max-width: 16px;\n        content: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZiYm6UBoblZspkpiM8FAE+6FWgbLdiMAAADd0lEQVR4nO3dT1baUBQG8O/m8DItDCpTGDRMcQXCCtQVVFagrkC7AtsVyA6qK9CuwEwJA5iqA+k04XA7IFj/PBDNvUrL/Y08wfNuzgckOcl9D4KyweCunKbpAQAQ0TCKNrraNX36/euDyQTlIMCoVAq79XplpFGnpDHozGBwV86ydECE8nQLo9e7rjUa1WPNuk8lyc0JMx8QAcxAlqVfAWxq1Ao0Bp0Zj9M9YBbmFBH2NWv68cGTDc1+/7alUUk10MnkcZg537b/hmqg68gCFWaBCrNAhVmgwixQYRaoMAtUmAUqzAIVZoEKs0CFrW2gzFzTGFc1UCL6pDl+Ef9koAC3PBuHujWXQ4QtjXHVAs1v4DY9L11q1VzAV7OlcZNZJdAkuWkyT376X6VfGjUXIcK5bzvz5HQwuBO94S0e6PRd5wv478x/yEO6UinsAvA9lKtlWXol+Uml2R/TB2rZTpGDNRG24f+aAwCYsdtoVM/eOn4Rvd71MRGOFvxLzOz/JC+DiIbOuTMC7p9OXgGovXXAJXSjqNpRHP9FSXJ9AaClWCIOACDLsiPohhk7Fx4qjr8U58JdALFiiWZ+DOW5X1MBXefCtlZjwWvU65WRc2EbilcaATD/LFjQCKBOFFU7qxDmTL1eGUVRtc2Mb/CfqAq5Pyklyc2JpyHgtYbMFBPh/KNabl7j74kY20TcQuGeAfousV/GGGOMMcYYY4wxxhhjjDHGGGOMMcYYI23tm8XG43RvMqEtqWYxAqaLRDHjpPguPjIC6HBVg81bxPchvEoPAbqt0sx0FoZuZXpE8/b3CyyYC1BE3sFMam3SRLyTZemF9PSVt9AOE8gDdc6pdPM+0EzT7FRx/KVohwkgftdpNdMW8Y85pr7rtBpJ/f5tK59F5/uKj6KoWpGu+ZLZooZz9mlIFHS+fPl8KVFLfCbddMeoDf8hpJwkN3vSNV/iW9QwN3Qu3JQKE1Ca6xlFGzFRsOt7jRnbGjUXmVeTKBC/+lCbjZy/68+uHohU50TN0/Jsu5T8ZM4oz5enS8/Gmm7N5TBDZVa0aqDM/Ftz/IJUrr3Xds2RIAhUrrvXNlAtFqgwC1SYBSrMAhVmgQqzQIVZoMIsUGEWqDALVJgFKkw10CDw3rVficfJWlQD9S3ix4wfmjX9ni3/E2vcXAYetOJoWbefUPsDQYRRqW401pIAAAAASUVORK5CYII=');\n    }\n\n    #").concat(this.playerContainerId," .zoom-out {\n        max-width: 16px;\n        content: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZiYm6UBoblZspkpiM8FAE+6FWgbLdiMAAADnElEQVR4nO2dMVrbMBiGP+mxPYehyQoDZqU3cG9QbhBO0CcnAE5AOQG+QblBfYOyxhmSNTDEc+JH6mAlDSSOTfhtKHzvRpD1mzeyZCz5l0INRqPHyBgT1SlbhtbIPC+Ij44OstfU81LG41knz+d9Y9B5TT1a6+T4+EtSVU7tOpHFYn4N4DvwupNZYwKoszDs3gvVt5M0fTgF7C8Ah0JVZgDufD8YlDUMXXIi/cViPgbQh5xMADgE7LVgfRXYa8jJBAoX/cViPk7Th/62AhstNE2ntyhENobvBwdNX/ruCps1GQNAHIa98/UPnrTQNmQCQJ7npx8hBoC+c7Zi1UKLJmxvNw6RJwvD3kELcZCm0xlku6wS1HkYdmPAtdDxeNZpq2+zFjdtxGk3lr0uHDqhbjRv+pvMrMXVyUnvsuE4K05OepfW4grF6Nwkyzui4pKveWkk1uJGa73XydW5h2uS0egx2uc4Y0xHKfwAUHV8Foa9AzUaPUbWmt8VhTdGs89GnQFbKf1N1/gPKPnsMgHAOUh2lTHGRFtv7NdpcxB579RxUSl03z7zI1LHRaVQ8jIoVBgKFYZChaFQYShUGAoVhkKFoVBhKFQYChWGQoWhUGG01junB7K3ftL+nnAuSn1pjUx7XhADmGwrwGehm+xwMvG8INbFggN1hqdPo1ufUPtfKJn4SwB1trF4YzyedfadzPqMjEaP0XL6mBBCCCGEEEIIIYQQQgghhBBCCCEtw4UOL2PbQgf3evfDqUtAELnPM2txw6U42xkOp5fule+lzARQgzDs3iuX7OQPtmSP4fqmTZzMiy2/mvh+8FXn+byPklQ87lsga+xwcpjn876uyLjFPnUN56LUlzHocAWzMBQqDIUKQ6HCUKgwFCoMhQpDocJQqDAUKgyFCkOhwlCoMJVCjTF89c5Rx0WlUD4T/UcdF1prnVSUiZ5nwv6MOAfRrjJa64Qpgyt4acpgz/1wh+r89ZFSiKw1+5wX0nT6JhN/ywk1a/cbC1Tp5h4b3AGuD/X9YIAWMmkrhYvhcHrZcJwVaxNqjWdAdw4LoS6rw6DhoADaHeTai6VWm62sRnm3U0DcQvRWJv6qJtQEiZe7LADPbptcJuwYDeN5XuPb/7QRA1WbqwBLqeoczfWpSRubVLkYSUPVZ8X+H5vp6Lfe2IdhN/b94AhFa5X84ydt9dUFaoCSFEp7kgHqp+8HR+uX+ZOIdWrhFmr1t1D7CwTgewYEWjnaAAAAAElFTkSuQmCC');\n    }\n    \n    #").concat(this.playerContainerId," .loader {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      display: block;\n      width: 40px;\n      height: 40px;\n      border: 4px solid rgb(147,0,183,1);\n      border-radius: 50%;\n      border-top-color: rgba(255, 255, 255, 0.001);\n      animation: spin 0.6s ease-in-out infinite;\n      -webkit-animation: spin 0.6s ease-in-out infinite;\n      margin: -20px 0 0 -20px;\n    }\n\n    @keyframes spin {\n      to { -webkit-transform: rotate(360deg); }\n    }\n    @-webkit-keyframes spin {\n      to { -webkit-transform: rotate(360deg); }\n    }\n\n    #").concat(this.playerContainerId," .overlay {\n        position: absolute;\n        width: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: rgba(0, 0, 0, 0.5);\n        z-index: 2;\n        cursor: pointer;\n    }\n\n    #").concat(this.playerContainerId," .play_icon_iphone {\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      z-index: 1;\n      display: none;\n      position: absolute;\n      background: rgba(0,0,0,0.7);\n    }\n\n    #").concat(this.playerContainerId,' .play_icon_iphone:before {\n      content: "";\n      display: "block";\n      top: 50%;\n      left: 50%;\n      z-index: 2;\n      width: 40px;\n      height: 40px;\n      cursor: pointer;\n      position: absolute;\n      margin: -20px 0 0 -20px;\n      background-repeat: no-repeat;\n      background-size: 100% auto;\n      background-position: center center;\n      background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUBAMAAADuRQ3yAAAAKlBMVEUAAAD///////////////////////////////////////////////////+Gu8ovAAAADXRSTlMAEEDfjzDPgO+/r2Ag4uRgNgAAAMhJREFUSMftzrEJwmAYBuFfxcJCyAjOEHCAbOAMQvos4iju4A4GI8i3i+WV95YpcvVTXNvaWlf7VyqPj7kL6aGqD+m5qoacfm4xrSWnNea0ppiy67SWnNaY05piyq7TWpTS6JRdp+wqZdcpu07ZdcquUnadsuuUXafsGqWfUupyeonpNx+4xnTuUvrm1OjQUto3o4wqZdQoo0oZdcqoU0adMuq0b0YZVcqoUUaVMuqUUaeMOmXUad8iyqhSRq0To9bueW9bWyvuD2beBh7n2I5SAAAAAElFTkSuQmCC);\n    }\n\n    #').concat(this.playerContainerId," .cta-icon {\n        max-width: 18px;\n        vertical-align: sub;\n        content: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAA3NCSVQICAjb4U/gAAAAS1BMVEUAAAA9PUIAAADR0d8AAAAAAACLi5VHcEwAAADY2ObV1eQAAAAAAADNzdzX1+XPz9y4uMbIyNbY2OeoqLXY2OfNzduurrpTU1fa2umINzifAAAAGHRSTlMCORHZHihiAAnCQRUby6WISqjuFNJxgigaliNiAAAAX3pUWHRSYXcgcHJvZmlsZSB0eXBlIEFQUDEAAAiZ40pPzUstykxWKCjKT8vMSeVSAANjEy4TSxNLo0QDAwMLAwgwNDAwNgSSRkC2OVQo0QAFmJibpQGhuVmymSmIzwUAT7oVaBst2IwAAAHeSURBVFiF7dfbboMwDAZg1y3ULWG0nJr3f9KFQ0vABhKv2qSp/820CX2zcyABzm8KfKAP9CcQsOig6svOU95AA0FjlykJ4iGgC4NspYLuHNJV9Di+CTIHJs0hqK67cY8RJkyaQSD0zlKAK4lLHgSwXB1yqnMvLf6pD/HVIaZbe3ziJggorKASQXrWh4RlJjgpgjQIsVCZJijWLkD5Ru6HJCNxDAQo2coJ587xuA6ZbCO0cA7P9SRASPy1NWXhJM+VKUC0sfWWjsFskPI4aD7vnUPdbrm7SYiCWD3dIDjJxcRArB6CfrdgZjKc3tm7EO9rODtcUUTeKbIHSX2xZwIgua94aK2vWCikrxAoqK8ASFiH16uiIt5XVVtbV7GDzfvqHGubSEjoq3dsQVEQ74tuVgFJ86WD+DpUQbNDc1w/KogK5iihxneG/aWDXleqaV/ooGw8JLz9pRtsPPWS/95QTr+T2rxNvP2uhJw0HBLT/VAFuT8TIvrvHyU0fnf4v2sh9vSvQ7h1GYGITXvZS70H1TYqqxC+CSIMu2e/0qxWlEY55WN1jEzIN80rbbYKYdIGD1PeXdxlqCvJ3VHToLjbLEp3hPEHoTkFxkjO9OFHwREd71M0PALjQT/NP4a+AS134O5puWSbAAAAAElFTkSuQmCC');\n    }\n    \n    #").concat(this.playerContainerId," ._skip-button.hide,\n    #").concat(this.playerContainerId," .fullScreenBtn.hide,\n    #").concat(this.playerContainerId," .butt_play_pause,\n    #").concat(this.playerContainerId," .butt_mute_unmute,\n    #").concat(this.playerContainerId,' .poster_image_end[src=""]{\n      display: none;\n    }\n    \n    #').concat(this.playerContainerId," .__VIDEO_PLAYER__{\n      height: 100%;\n    }\n\n    #").concat(this.playerContainerId," .__VIDEO_PLAYER__.deactive{\n      display: none;\n    }\n    \n    #").concat(this.playerContainerId," .__ENCARD_CONTAINER__{\n      visibility: hidden;\n      position: absolute;\n      top: 0px;\n      height: 0px;\n      overflow: hidden;\n    }\n    \n    #").concat(this.playerContainerId," .__ENCARD_CONTAINER__.active{\n      position: static;\n      height: 100%;\n      visibility: visible;\n    }\n    #").concat(this.playerContainerId," .poster_image_end.hidden{\n      visibility: hidden;\n      pointer-events: none;\n    }"),t="\n    #".concat(this.playerContainerId," .butt_play_pause,\n    #").concat(this.playerContainerId," .butt_mute_unmute,\n    #").concat(this.playerContainerId," .butt_replay{\n      display: block;\n      outline: none;\n      box-shadow: none;\n      cursor: pointer;\n      border: 0;\n      width: 30px;\n      height: 30px;\n      background: none;\n      position: absolute;\n      bottom: ").concat(8,"px;\n      left: ").concat(5,"px;\n      background-repeat: no-repeat;\n      background-position: center center;\n      background-size: 21px auto;\n    }\n\n    #").concat(this.playerContainerId," .butt_play_pause.hidden,\n    #").concat(this.playerContainerId," .butt_mute_unmute.hidden,\n    #").concat(this.playerContainerId," .butt_replay.hidden,\n    #").concat(this.playerContainerId," .butt_play_pause,\n    #").concat(this.playerContainerId," .label_unmute,\n    #").concat(this.playerContainerId," .label_unmute.show{\n      display: none;\n    }\n    \n    #").concat(this.playerContainerId," .butt_mute_unmute{\n      left: auto;\n      right: ").concat(11,"px;\n      background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2QpIj4NCjxwYXRoIGQ9Ik01LjQ4MjE4IDYuOTU2NTVIMS41NzY4NEMxLjI1ODI2IDYuOTU2NTUgMSA3LjIxNDgxIDEgNy41MzMzOVYxMy40NjY2QzEgMTMuNzg1MiAxLjI1ODI2IDE0LjA0MzUgMS41NzY4NCAxNC4wNDM1SDUuNDgyMThMMTAuNDU0IDE3Ljg3ODhDMTAuODMzMiAxOC4xNzE0IDExLjM4MzEgMTcuOTAxMSAxMS4zODMxIDE3LjQyMjFWMy41Nzc5QzExLjM4MzEgMy4wOTg5NSAxMC44MzMyIDIuODI4NjIgMTAuNDU0IDMuMTIxMTdMNS40ODIxOCA2Ljk1NjU1Wk0xMC4yMjk1IDQuNzUxNDNWMTYuMjQ4Nkw2LjAzMTE2IDEzLjAwOTlDNS45MzAyMiAxMi45MzIgNS44MDYzMiAxMi44ODk4IDUuNjc4ODIgMTIuODg5OEgyLjE1MzY4VjguMTEwMjNINS42Nzg4MkM1LjgwNjMyIDguMTEwMjMgNS45MzAyMiA4LjA2Nzk5IDYuMDMxMTYgNy45OTAxMkwxMC4yMjk1IDQuNzUxNDNaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTE2LjczMjggNi4xNzE3QzE2LjQ3NjUgNS45MTU5NyAxNi4wNjE4IDUuOTE1OTcgMTUuODA1NSA2LjE3MTdDMTUuNTQ5MiA2LjQyODU1IDE1LjU0OTIgNi44NDQ5NSAxNS44MDU1IDcuMDk3OUMxNi42NDk0IDcuOTQzNDkgMTcuMDY3NSA5LjA0MDkyIDE3LjA2OTIgMTAuMTQ2N0MxNy4wNjcgMTEuMjU0NyAxNi42NDg5IDEyLjM1ODggMTUuODA1NSAxMy4yMDE2QzE1LjU0OTIgMTMuNDU2OCAxNS41NDkyIDEzLjg3NDggMTUuODA1NSAxNC4xMzExQzE1LjkzMzQgMTQuMjU5IDE2LjEwMDcgMTQuMzIyNCAxNi4yNzAzIDE0LjMyMjRDMTYuNDM3NiAxNC4zMjI0IDE2LjYwNSAxNC4yNTk1IDE2LjczMjggMTQuMTMxMUMxNy44MzE5IDEzLjAzMDkgMTguMzgxMiAxMS41ODYgMTguMzgwMSAxMC4xNDY3QzE4LjM4MTIgOC43MDkwMiAxNy44MzAzIDcuMjY4NTggMTYuNzMyOCA2LjE3MTdaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTE4LjUxMjQgNC4xMDYzOEMxOC4yNTI4IDMuODQ4OTggMTcuODM5MiAzLjg0ODk4IDE3LjU4MDYgNC4xMDYzOEMxNy4zMjY2IDQuMzYzNzggMTcuMzI2NiA0Ljc3Nzk2IDE3LjU4MDYgNS4wMzUzNkMxOC45OTc3IDYuNDUxOSAxOS43MDU1IDguMjk4MTggMTkuNzA2NiAxMC4xNTM0QzE5LjcwNTUgMTIuMDE2OSAxOS4wMDA1IDEzLjg3NDggMTcuNTgwNiAxNS4yOTU4QzE3LjMyNTUgMTUuNTUyMSAxNy4zMjY2IDE1Ljk2NjggMTcuNTgwNiAxNi4yMjQyQzE3LjcwOTYgMTYuMzUxNSAxNy44NzkyIDE2LjQxNTUgMTguMDQ2NSAxNi40MTU1QzE4LjIxNSAxNi40MTU1IDE4LjM4NCAxNi4zNTE1IDE4LjUxMjQgMTYuMjI0MkMyMC4xODM2IDE0LjU0NjQgMjEuMDE5NyAxMi4zNDc3IDIxLjAxOTcgMTAuMTUzNEMyMS4wMTk3IDcuOTY2MjggMjAuMTc4IDUuNzc1MzIgMTguNTEyNCA0LjEwNjM4WiIgZmlsbD0id2hpdGUiLz4NCjwvZz4NCjxkZWZzPg0KPGZpbHRlciBpZD0iZmlsdGVyMF9kIiB4PSIwIiB5PSIzIiB3aWR0aD0iMjIuMDE5NyIgaGVpZ2h0PSIxNyIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPg0KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4NCjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+DQo8ZmVPZmZzZXQgZHk9IjEiLz4NCjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjAuNSIvPg0KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz4NCjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiByZXN1bHQ9InNoYXBlIi8+DQo8L2ZpbHRlcj4NCjwvZGVmcz4NCjwvc3ZnPg0K');\n      width: 24px;\n      padding: 0px;\n      background-size: 24px auto;\n    }\n\n    #").concat(this.playerContainerId," .butt_play_pause{\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUBAMAAADuRQ3yAAAAKlBMVEUAAAD///////////////////////////////////////////////////+Gu8ovAAAADXRSTlMAEEDfjzDPgO+/r2Ag4uRgNgAAAMhJREFUSMftzrEJwmAYBuFfxcJCyAjOEHCAbOAMQvos4iju4A4GI8i3i+WV95YpcvVTXNvaWlf7VyqPj7kL6aGqD+m5qoacfm4xrSWnNea0ppiy67SWnNaY05piyq7TWpTS6JRdp+wqZdcpu07ZdcquUnadsuuUXafsGqWfUupyeonpNx+4xnTuUvrm1OjQUto3o4wqZdQoo0oZdcqoU0adMuq0b0YZVcqoUUaVMuqUUaeMOmXUad8iyqhSRq0To9bueW9bWyvuD2beBh7n2I5SAAAAAElFTkSuQmCC');\n    }\n\n    #").concat(this.playerContainerId," .butt_play_pause.playing{\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUBAMAAADuRQ3yAAAALVBMVEUAAAD///////////////////////////////////////////////////////+hSKubAAAADnRSTlMAgL9An2AgcBDv38+vj7pjYDcAAABoSURBVEjHYxgFo2AkgBAlJZ0KKDtRSUnpMk6VLO+A4HUDmM08D8QpwKU07h0IOIDZXGD2M1xK5cDSCmB2Hpj9lBildmD2w1Glo0pHlY4qHVU6qnQEK4VWnBRVx4QrecJNh1EwCoY/AAC/KQTTzPqL2wAAAABJRU5ErkJggg==');\n    }\n\n    #").concat(this.playerContainerId," .butt_mute_unmute.muted{\n      background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2QpIj4NCjxwYXRoIGQ9Ik01LjQ5ODU1IDYuOTU2NTVIMS41Nzg5NUMxLjI1OTIgNi45NTY1NSAxIDcuMjE0ODEgMSA3LjUzMzM5VjEzLjQ2NjZDMSAxMy43ODUyIDEuMjU5MiAxNC4wNDM1IDEuNTc4OTUgMTQuMDQzNUg1LjQ5ODU1TDEwLjQ4ODUgMTcuODc4OEMxMC44NjkxIDE4LjE3MTQgMTEuNDIxMSAxNy45MDExIDExLjQyMTEgMTcuNDIyMVYzLjU3NzlDMTEuNDIxMSAzLjA5ODk1IDEwLjg2OTEgMi44Mjg2MiAxMC40ODg1IDMuMTIxMTdMNS40OTg1NSA2Ljk1NjU1Wk0xMC4yNjMyIDQuNzUxNDNWMTYuMjQ4Nkw2LjA0OTUzIDEzLjAwOTlDNS45NDgyMiAxMi45MzIgNS44MjM4NiAxMi44ODk4IDUuNjk1OTEgMTIuODg5OEgyLjE1Nzg5VjguMTEwMjNINS42OTU5MUM1LjgyMzg2IDguMTEwMjMgNS45NDgyMiA4LjA2Nzk5IDYuMDQ5NTMgNy45OTAxMkwxMC4yNjMyIDQuNzUxNDNaIiBmaWxsPSJ3aGl0ZSIvPg0KPHBhdGggZD0iTTIyLjAxMTcgNy4yMDY4NEwxNi4yMjIyIDEyLjk3NTNDMTUuOTk2MSAxMy4yMDA1IDE1Ljk5NjEgMTMuNTY1OCAxNi4yMjIyIDEzLjc5MUMxNi40NDgzIDE0LjAxNjMgMTYuODE0OSAxNC4wMTYzIDE3LjA0MSAxMy43OTFMMjIuODMwNCA4LjAyMjYyQzIzLjA1NjUgNy43OTczNSAyMy4wNTY1IDcuNDMyMTEgMjIuODMwNCA3LjIwNjg0QzIyLjYwNDMgNi45ODE1NyAyMi4yMzc4IDYuOTgxNTcgMjIuMDExNyA3LjIwNjg0WiIgZmlsbD0id2hpdGUiLz4NCjxwYXRoIGQ9Ik0xNi4yMjIyIDguMDIyNjJMMjIuMDExNyAxMy43OTFDMjIuMjM3OCAxNC4wMTYzIDIyLjYwNDMgMTQuMDE2MyAyMi44MzA0IDEzLjc5MUMyMy4wNTY1IDEzLjU2NTggMjMuMDU2NSAxMy4yMDA1IDIyLjgzMDQgMTIuOTc1M0wxNy4wNDEgNy4yMDY4NEMxNi44MTQ5IDYuOTgxNTcgMTYuNDQ4MyA2Ljk4MTU3IDE2LjIyMjIgNy4yMDY4NEMxNS45OTYxIDcuNDMyMTEgMTUuOTk2MSA3Ljc5NzM1IDE2LjIyMjIgOC4wMjI2MloiIGZpbGw9IndoaXRlIi8+DQo8L2c+DQo8ZGVmcz4NCjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgeD0iMCIgeT0iMyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjE3IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+DQo8ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPg0KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz4NCjxmZU9mZnNldCBkeT0iMSIvPg0KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMC41Ii8+DQo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+DQo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPg0KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIHJlc3VsdD0ic2hhcGUiLz4NCjwvZmlsdGVyPg0KPC9kZWZzPg0KPC9zdmc+DQo=');\n    }\n\n    #").concat(this.playerContainerId," .butt_replay{\n      top: 10px;\n      left: 10px;\n      width: 32px;\n      height: 32px;\n      box-sizing: border-box;\n      border-radius: 50%;\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsSAAALEgHS3X78AAACNUlEQVRYhe1Y7U3DMBB9IP43G5ANCBMQJqAjlA2yAWGDskE3IGxQJiBskBHSCQ5ZOkuXq+2cQysViZMsRbHv/O77kisiwiXR9UWh+cuAtgCcb3sAGwDF2RC5GDKsjqY0EtGOiEojv3lZDxZE1BLRoIANpwZkddnIbtsH3seo5/02y8VG5Bt2k6YmwSPPjyxj9i4LmF0gfjwVCb6KiPaKd/tbQBKMi5daxFFntG6tlNgtBeSC2FMvrOHJ5AKRFL3gjbo6pVUIDNjsSS0ToGSW1jmAvDYjx0Lu5am48u7bWwGthRZtRHDJgseZTJsLhSMrhRg6YZ1YFkmXyoC3us5b6SgxQgyWbNCASFxgaScyeyd7ulJX4rkz1tYPAAd+fuIK3c7wSNm13NCAZIl3gi20ZUU++OwKwAuAAcA6wi9lT9qKBiTROoFW8pc/CmvdAniP8EvZ0isnnRgrdtVKvPvMFaIBSVOWRhkFu+0LwAO/c1Z61vERkT2ZIG7UQTlOOI0tbtNueWNLpUaTKrahLSTRxrSLkXPPPYBmBoyWPZ2xZgpjqgWQOJfTaJFbGGXrSLWFhldqJpprHUeKxJgGoX3uhalVCusE53FLa9Djx9KlZ6Ks8QM895wKlAYTHWVzmmC/cDaq1WAWnIOsgDQoyvhArCK8SUtb/340gbbwzV27F3Wn4KLn+tqdkvFqmALM32U+Q7TGFsr65F7yf6hkC6zZGiu1f+Dqu2cL5kwNiwCdlf5/WCUJwA/UDdgbhVLXxgAAAABJRU5ErkJggg==');\n      z-index: 2;\n    }\n    \n    #").concat(this.playerContainerId," .fullScreenBtn, \n    #").concat(this.playerContainerId," ._skip-button, \n    #").concat(this.playerContainerId," .progress-time,\n    #").concat(this.playerContainerId," .cta-container{\n      display: none;\n    }"),n=navigator.userAgent,i=/UCBrowser/gi.test(n)&&/Mobile Safari/gi.test(n)?"\n    #".concat(this.playerContainerId," .progress-time,\n    #").concat(this.playerContainerId," .cta-container, \n    #").concat(this.playerContainerId," ._skip-button, \n    #").concat(this.playerContainerId," .fullScreenBtn,\n    #").concat(this.playerContainerId," .progress-bar,\n    #").concat(this.playerContainerId," .butt_play_pause,\n    #").concat(this.playerContainerId," .play_icon_iphone,\n    #").concat(this.playerContainerId," .butt_mute_unmute{\n      display: none !important;\n    }\n    "):"",r="\n    #".concat(this.playerContainerId," .label_unmute{\n      background: rgba(0, 0, 0, 0.6);\n      border: 1px solid rgba(255, 255, 255, 0.24);\n      border-radius: 2px;\n    }\n\n    #").concat(this.playerContainerId," .tap-icon{\n      width: 22px;\n      height: 22px;\n    }\n\n    #").concat(this.playerContainerId," ._skip-button{\n      border: 1px solid rgba(255, 255, 255, 0.24);;\n      background: rgba(0, 0, 0, 0.6);\n      width: auto;\n      height: auto;\n      border-radius: 2px 0 0 2px;\n      top: auto;\n      right: 0;\n      bottom: 16px;\n      margin: 0;\n      padding: 0;\n    }\n    #").concat(this.playerContainerId,' ._skip-button .skip-ad-icon{\n      display: inline-block;\n      width: 16px;\n      height: 16px;\n      background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxtYXNrIGlkPSJtYXNrMCIgbWFzay10eXBlPSJhbHBoYSIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMiIgeT0iMiIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEyIj4NCjxwYXRoIGQ9Ik0zLjM0OTc4IDIuNzc1NkMyLjk3MjU1IDIuNTM1NTUgMi42NjY3NSAyLjcwNDcgMi42NjY3NSAzLjE1NDkxVjEyLjg0NUMyLjY2Njc1IDEzLjI5NDUgMi45NzI4NiAxMy40NjQyIDMuMzQ5NzggMTMuMjI0M0wxMC44NzY0IDguNDM0NkMxMS4yNTM3IDguMTk0NTUgMTEuMjUzNCA3LjgwNTE1IDEwLjg3NjQgNy41NjUyOUwzLjM0OTc4IDIuNzc1NloiIGZpbGw9IndoaXRlIi8+DQo8L21hc2s+DQo8ZyBtYXNrPSJ1cmwoI21hc2swKSI+DQo8cGF0aCBkPSJNMy4zNDk3OCAyLjc3NTZDMi45NzI1NSAyLjUzNTU1IDIuNjY2NzUgMi43MDQ3IDIuNjY2NzUgMy4xNTQ5MVYxMi44NDVDMi42NjY3NSAxMy4yOTQ1IDIuOTcyODYgMTMuNDY0MiAzLjM0OTc4IDEzLjIyNDNMMTAuODc2NCA4LjQzNDZDMTEuMjUzNyA4LjE5NDU1IDExLjI1MzQgNy44MDUxNSAxMC44NzY0IDcuNTY1MjlMMy4zNDk3OCAyLjc3NTZaIiBmaWxsPSJ3aGl0ZSIvPg0KPC9nPg0KPHJlY3QgeD0iMTIiIHk9IjIuNjY2NSIgd2lkdGg9IjEuMzMzMzMiIGhlaWdodD0iMTAuNjY2NyIgcng9IjAuNjY2NjY3IiBmaWxsPSJ3aGl0ZSIvPg0KPC9zdmc+DQo=");\n      bacground-repeat: no-repeat;\n      background-position: 0 0;\n      background-size: 100% auto;\n      position: relative;\n      top: 3px;\n      margin-left: 5px;\n    }\n    #').concat(this.playerContainerId," .btn.skipBtn{\n      color: #fff;\n      font-size: 13px;\n      line-height: 24px;\n      height: 24px;\n      padding: 0 6px 0 8px;\n      border-radius: 2px 0 0 2px;\n    }\n    #").concat(this.playerContainerId," .cta-container {display:none}\n    @media screen and (min-width: 600px){\n      #").concat(this.playerContainerId," ._skip-button{ bottom: 37px; }\n    }\n    ");return"dfp"==this.templateOption?e+="#".concat(this.playerContainerId," ._skip-button{bottom:2px;top:auto;} \n      #").concat(this.playerContainerId," .cta-container{top:0; bottom: auto;}"):"wocta"==this.templateOption?e+=r:""==this.templateOption&&(e+=t),e+=i}},{key:"getStyle",value:function(){var e=document.createElement("style"),t=this.getStyleText();return e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),e}},{key:"onTimeUpdate",value:function(){var e=void 0!==this.player.videoVastDuration?this.player.videoVastDuration:this.player.duration,t=parseInt((e-this.player.currentTime)%60)||0,n=parseInt((e-this.player.currentTime)/60%60)||0;if(t=1==t.toString().length?"0"+t:t,this.adBreakPages&&this.adBreakPages.hasOwnProperty("currentAdIndex")&&this.adBreakPages.hasOwnProperty("totalAdCount")&&!1===isNaN(this.adBreakPages.totalAdCount)&&parseInt(this.adBreakPages.totalAdCount)>1){var i="".concat(this.adBreakPages.currentAdIndex," of ").concat(this.adBreakPages.totalAdCount);this.runningTime.innerHTML='<span class="lbl_adbreak">'.concat(i,"</span>").concat(n,":").concat(t)}else this.runningTime.innerHTML="".concat(n,":").concat(t),this.runningTime.classList.add("singleAd");parseInt(this.skip)>0?(this.skipTime.innerHTML=this.skip-Math.floor(this.player.currentTime),Math.floor(this.player.currentTime)>=this.skip&&(this.isSkippableStateChange||(this.isSkippableStateChange=!0),this.skipBtn.innerHTML='Skip Ad <span class="skip-ad-icon"></span>',this.skipBtn.className=this.skipBtn.className.replace(" _deactive",""),null==this.skipBtn.onclick&&(this.vpaid.emit("skippableStateChange"),this.skipBtn.onclick=this.onSkipButtonClick.bind(this)))):0===parseInt(this.skip)&&(this.skipBtn.innerHTML='Skip Ad <span class="skip-ad-icon"></span>',this.skipBtn.className=this.skipBtn.className.replace(" _deactive",""),null==this.skipBtn.onclick&&(this.skipBtn.onclick=this.onSkipButtonClick.bind(this)));var r=this.player.currentTime/e*100;this.seekBar.style.width=r+"%",this.currentTime=this.player.currentTime}},{key:"onFullScreenMode",value:function(e){this.isFullscreenMode?this.disableFullscreenMode():this.enableFullscreenMode(),this.isFullscreenMode=!this.isFullscreenMode}},{key:"onPlayerClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.isBrowserPaused||this.isViewportPaused||this.isProgrammaticallyPaused||this.player.ended||this.player.isDeveloperPaused||(this.player.paused?(this.isManuallyPaused=!1,this.player.play(),this.vpaid.emit("AdPlaying"),e.target.className+=" playing"):(this.player.pause(),this.isManuallyPaused=!0,this.vpaid.emit("AdPaused"),e.target.className=e.target.className.replace(" playing","")))}},{key:"setPropsOnMuteOrUmuteState",value:function(){if(!1===this.player.muted)this.buttMuteUnmute.classList.remove("show"),this.buttMuteUnmute.classList.remove("showText"),this.buttMuteUnmuteDefaultTemplate.classList.remove("muted");else{var e=this.showTapToUnmuteButton;this.buttMuteUnmuteDefaultTemplate.classList.add("muted"),e||this.buttMuteUnmute.classList.remove("showText")}}},{key:"onPlayerMuteUnmute",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.player.muted||0==this.player.volume?(this.player.muted=!1,this.player.volume=1,this.vpaid.emit("onUnmute"),this.buttMuteUnmute.classList.remove("show"),this.buttMuteUnmute.classList.remove("showText"),this.buttMuteUnmuteDefaultTemplate.classList.remove("muted")):(this.player.muted=!0,this.player.volume=0,this.vpaid.emit("onMute"),this.buttMuteUnmuteDefaultTemplate.classList.add("muted"),this.buttMuteUnmute.classList.remove("show"))}},{key:"onPlayerUnmute",value:function(e){e.preventDefault(),e.stopPropagation(),(this.player.muted||0==this.player.volume)&&(this.player.muted=!1,this.player.volume=1,this.vpaid.emit("onUnmute"),this.buttMuteUnmute.classList.remove("show"),this.buttMuteUnmute.classList.remove("showText"))}},{key:"showReplayButton",value:function(){if(this.devices.isPhone&&this.loop)return this.player.currentTime=.1,void this.player.play();this.loop||(this.buttPlayPause.className+=" hidden",this.buttMuteUnmute.className+=" hidden",this.buttReplay.className=this.buttReplay.className.replace(/\s?hidden/gi,""))}},{key:"hideReplayButton",value:function(){this.loop||(this.buttReplay.className+=" hidden",this.buttPlayPause.className=this.buttPlayPause.className.replace(/\s?hidden/gi,""),this.buttMuteUnmute.className=this.buttMuteUnmute.className.replace(/\s?hidden/gi,""))}},{key:"onPlayerError",value:function(e){this.customErrorFunction(405),!this.devices.isPhone&&this.hls&&this.hls.destroy()}},{key:"enableFullscreenMode",value:function(){this.vpaid.emit("onExpand"),this.fullScreenBtn.firstChild.className="zoom-in",this.player.classList.add("video-height-full-screen")}},{key:"disableFullscreenMode",value:function(){this.fullScreenBtn.firstChild.className="zoom-out",this.player.classList.remove("video-height-full-screen"),this.vpaid.emit("onCollapse")}},{key:"onClickToAction",value:function(){this.vpaid.emit("AdClickThru",null,null,!0)}},{key:"onSkipButtonClick",value:function(){this.hls&&!this.devices.isPhone&&(this.hls.destroy(),this.player.src="",this.videoSource.src=""),this.vpaid.emit("AdSkipped")}},{key:"onPlay",value:function(){this.isManuallyPaused=!1,this.overlay.style.display="none",this.previewImageContainer.classList.add("hidden"),this.buttPlayIcon.style.display="none",this.hideReplayButton()}},{key:"onLoadedMetaData",value:function(){this.player.style.background="black"}},{key:"onPause",value:function(){this.isManuallyPaused||this.isBrowserPaused||this.isViewportPaused||this.isProgrammaticallyPaused||this.player.ended?this.isManuallyPaused?this.previewImageContainer.classList.add("hidden"):this.previewImageContainer.classList.remove("hidden"):this.player.isDeveloperPaused?this.overlay.style.display="none":this.overlay.style.display="block"}},{key:"onWaiting",value:function(){}},{key:"onPlayIconClick",value:function(){this.player.play(),this.buttPlayIcon.style.display="none",this.vpaid.emit("AdPlaying")}},{key:"showPlayIcon",value:function(){this.buttPlayIcon.style.display="block",this.vpaid.emit("AdPaused"),this.overlay.style.display="none"}}])&&s(t.prototype,n),i&&s(t,i),e}()}).call(this,n(3))},function(e,t,n){var i=n(2).default;e.exports=i},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(0),r=n.n(i);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var d=function(){function e(){u(this,e),this.state={muteState:!1,containerId:!1,xml:!1,flagCompletedView:!1,flagVideoStopped:!1,flagVideoComplete:!1,isVideoEnded:!1,videoStuckTimer:!1,isAdPlayerFullscreen:!1,isAdSkipped:!1,loop:!1,previewImage:!1},this.eventVideoParsed=VMAX.createNewEvent("videoparsed"),this.eventVideoEnded=VMAX.createNewEvent("videoended"),this.videoLoopNumber=-1,this.canCaptureVideoLoop=!0,this.videoElement=!1}return l(e,[{key:"init",value:function(e){var t=e.xml,n=e.containerId,i=e.muteState,r=(e.template,e.enableFullscreen),o=e.exitFullscreen,s=e.viewability,u=e.adparams,c=void 0===u?{}:u,l=e.adBreakPages,d=e.showTapToUnmuteButton,p=void 0!==d&&d,h=e.loop,f=void 0!==h&&h,y=e.previewImage,m=void 0!==y&&y;this.state=a(a({},this.state),{},{xml:t,containerId:n,muteState:i,adparams:c,loop:f,previewImage:m}),this.viewability=s||!1,this.enableFullscreen=r,this.exitFullscreen=o,this.adBreakPages=l,this.showTapToUnmuteButton=p,this.playerMuted=null}},{key:"registerVAEI",value:function(e){var t=e.VAEI;e.callbacks;this.VAEI=t}},{key:"show",value:function(){var e=this.state,t=e.containerId,n=void 0!==t&&t,i=e.muteState,o=void 0===i?void 0:i,a=e.adparams,s=void 0===a?{}:a,u=e.loop,c=void 0!==u&&u,l=e.previewImage,d=void 0!==l&&l,p=this.state.xml,h=void 0!==p&&p,f=document.getElementById(n),y=s.delay,m=void 0!==y&&y;f&&(this.player=new r.a(f,{skipDelay:m,customErrorFunction:this.onAdError.bind(this),adBreakPages:this.adBreakPages,customAdLoadedFunction:this.onAdLoaded.bind(this),muteState:o,showTapToUnmuteButton:this.showTapToUnmuteButton,loop:c,previewImage:d}),h=encodeURI(h).replace(/\n/gim,"").replace(/'/gim,"&rsquo;").replace(/\[ccb\]/gi,Date.now()||(new Date).getTime()).replace(/\[advid\]/gi,"advid"),this.player.load(h).then(this.successCallback.bind(this)).catch(this.errorCallback))}},{key:"destroyVideo",value:function(){this.VAEI.onAdDestroy({isTrackerFired:!0,isAdPlayerFullscreen:this.state.isAdPlayerFullscreen,muted:this.playerMuted}),this.onAdEnd(),this.destroyAdPlayerContainer(!0),console.log(">>>>> Destroying the video!")}},{key:"onAdEnd",value:function(){!this.state.isAdSkipped&&this.state.flagCompletedView&&this.VAEI.onAdEnd({isTrackerFired:!0,isAdPlayerFullscreen:this.state.isAdPlayerFullscreen});try{var e=this.player.__private__.player.template.templateOption||!1}catch(t){console.warn("Could not get any value from template option!");e=!1}e&&this.destroyAdPlayerContainer()}},{key:"destroyAdPlayerContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state.containerId&&(this.state.isAdSkipped||this.state.flagCompletedView&&this.state.flagVideoStopped||e)){this.player&&(this.player.stopAd(),this.player=null,delete this.player);var t=document.getElementById(this.state.containerId);if(null==t)return;for(var n=t.querySelectorAll("._player_ads_vmax_"),i=0;i<n.length;i++){var r=n[i];r.parentNode.removeChild(r)}t.dispatchEvent(this.eventVideoEnded),this.state.isAdSkipped||this.VAEI.onAdClose({isTrackerFired:!0,isAdPlayerFullscreen:this.state.isAdPlayerFullscreen,muted:this.playerMuted}),this.VAEI.destroyPlayer()}}},{key:"errorCallback",value:function(e){console.warn(e)}},{key:"successCallback",value:function(e){if(this.hasOwnProperty("player")&&this.player.container&&""!=this.player.container.innerHTML){var t=this;this.VAEI.setPlayer({container:this.player.container,player:this.player,adId:function(){try{return t.player.vast.ads[0].id||!1}catch(e){return!1}}(),adTitle:function(){try{return t.player.vast.ads[0].title||!1}catch(e){return!1}}(),adDescription:function(){try{return t.player.vast.ads[0].description||!1}catch(e){return!1}}(),adAdvertiser:function(){try{return t.player.vast.ads[0].advt||!1}catch(e){return!1}}(),adClickThrough:function(){try{for(var e=t.player.vast.ads[0].creatives,n=0;n<e.length;n++)if("linear"===e[n].type)return e[n].videoClicks.clickThrough}catch(e){return!1}}(),pluginParams:{width:function(){try{return t.player.vast.ads[0].creatives[0].mediaFiles[0].width}catch(e){return!1}}(),height:function(){try{return t.player.vast.ads[0].creatives[0].mediaFiles[0].height}catch(e){return!1}}(),isVerticalVideo:t.player.vast.ads[0].creatives[0].mediaFiles[0].height>t.player.vast.ads[0].creatives[0].mediaFiles[0].width}}),!1===this.state.muteState?(this.player.muteAd(),this.player.adVolume=0):(this.player.unmuteAd(),this.player.adVolume=1),this.VAEI.onAdRender(!0),/iPhone|iPad/gi.test(navigator.userAgent)&&this.onCollapse();var n=function(){try{return t.player.container.querySelector("video").id}catch(e){return""}}();if(this.viewability){var i={viewability:this.viewability,sectionId:this.state.containerId,videoId:n,adUXIndex:3};this.moat=new p(i)}this.fireEvents(),this.videoElement=this.player.container.querySelector("video"),this.onAdLoaded(void 0!==e&&void 0!==e.vast&&void 0!==e.vast.inView&&e.vast.inView)}}},{key:"fireEvents",value:function(){this.player.once("AdImpression",this.onImpression.bind(this)),this.player.on("AdStarted",this.onAdStarted.bind(this)),this.player.on("AdClickThru",this.onClick.bind(this)),this.player.once("AdStopped",this.onAdStopped.bind(this)),this.player.on("VideoEnded",this.onVideoEnded.bind(this)),this.player.on("AdVideoStart",this.onAdVideoStart.bind(this)),this.player.on("AdVideoFirstQuartile",this.onAdVideoFirstQuartile.bind(this)),this.player.on("AdVideoMidpoint",this.onAdVideoMidpoint.bind(this)),this.player.on("AdVideoThirdQuartile",this.onAdVideoThirdQuartile.bind(this)),this.player.on("AdVideoComplete",this.onAdVideoComplete.bind(this)),this.player.once("CompletedView",this.onCompletedView.bind(this)),this.player.on("AdPaused",this.onAdPaused.bind(this)),this.player.on("AdPlaying",this.onAdPlaying.bind(this)),this.player.on("AdError",this.onAdError.bind(this)),this.player.on("AdError2",this.onAdError.bind(this)),this.player.on("onExpand",this.onExpand.bind(this)),this.player.on("onCollapse",this.onCollapse.bind(this)),this.player.on("AdSkipped",this.onSkipAd.bind(this)),this.player.on("onInView",this.onInView.bind(this)),this.player.on("onOutOfView",this.onOutOfView.bind(this)),this.player.on("skippableStateChange",this.onAdSkippable.bind(this)),this.player.on("onMute",this.onMute.bind(this)),this.player.on("onUnmute",this.onUnmute.bind(this)),this.player.on("AdTimeUpdate",this.onAdTimeUpdate.bind(this))}},{key:"pauseAd",value:function(e){"boolean"==typeof e&&(this.isDeveloperPaused=e),e&&(this.videoElement.isDeveloperPaused=!0),this.player.pauseAd("pause_programmatically")}},{key:"resumeAd",value:function(e){"boolean"==typeof e&&(this.isDeveloperPaused=e),e&&(this.videoElement.isDeveloperPaused=!1),this.player.resumeAd("resume_programmatically")}},{key:"onMute",value:function(){this.VAEI.onMute(!0),this.playerMuted=!0}},{key:"onUnmute",value:function(){this.VAEI.onUnmute(!0),this.playerMuted=!1}},{key:"onAdTimeUpdate",value:function(){this.player&&this.VAEI.onAdTimeUpdate(!0)}},{key:"onAdLoaded",value:function(e){console.log("Ad loaded here also"),this.VAEI.onAdLoaded(!0);var t=document.getElementById(this.state.containerId);t&&t.dispatchEvent(this.eventVideoParsed),e&&e()}},{key:"onImpression",value:function(){this.viewability&&(this.moat.init(),this.moat.moatEvent("AdImpression")),this.VAEI.onImpression(!0)}},{key:"onAdStarted",value:function(){}},{key:"onAdVideoStart",value:function(){this.viewability&&this.moat.moatEvent("AdVideoStart"),this.VAEI.onAdStarted(!0),this.playerMuted=void 0!==this.videoElement.muted?this.videoElement.muted:null}},{key:"onClick",value:function(){this.VAEI.onClick(!0)}},{key:"onAdSkippable",value:function(){this.VAEI.onAdSkippable(!0)}},{key:"onAdStopped",value:function(){if(!this.state.isAdSkipped){try{var e=this.player.__private__.player.template.templateOption||!1}catch(t){console.warn("Could not get any value from template option!");e=!1}this.state.flagVideoStopped=!0,this.VAEI.onAdStopped({isTrackerFired:!0,isAdPlayerFullscreen:this.state.isAdPlayerFullscreen}),e&&this.destroyAdPlayerContainer()}}},{key:"onVideoEnded",value:function(){this.state.isVideoEnded=!0}},{key:"onAdVideoFirstQuartile",value:function(){this.viewability&&this.moat.moatEvent("AdVideoFirstQuartile"),this.VAEI.onFirstQuartile(!0)}},{key:"onAdVideoMidpoint",value:function(){this.viewability&&this.moat.moatEvent("AdVideoMidpoint"),this.VAEI.onMidPoint(!0)}},{key:"onAdVideoThirdQuartile",value:function(){this.viewability&&this.moat.moatEvent("AdVideoThirdQuartile"),this.VAEI.onThirdQuartile(!0)}},{key:"onAdVideoComplete",value:function(){this.viewability&&this.moat.moatEvent("AdVideoComplete"),this.state.flagVideoComplete=!0,this.onAdEnd(),this.VAEI.onComplete(!0)}},{key:"onCompletedView",value:function(){try{this.player.__private__.player.template.templateOption}catch(e){console.warn("Could not get any value from template option!")}this.state.flagCompletedView=!0,this.onAdEnd()}},{key:"onAdPaused",value:function(){this.VAEI.onPause(!0)}},{key:"onAdPlaying",value:function(){this.state.isVideoEnded=!1,this.VAEI.onResume(!0)}},{key:"onAdError",value:function(e){if(!this.state.isAdSkipped){e=e||!1,this.destroyAdPlayerContainer(!0),this.VAEI.onError({errorCode:e});document.getElementById(this.state.containerId)}}},{key:"onExpand",value:function(){this.state.isAdPlayerFullscreen=!0,this.enableFullscreen(),this.VAEI.onExpand(!0)}},{key:"onCollapse",value:function(){this.state.isAdPlayerFullscreen=!1,this.exitFullscreen(),this.VAEI.onCollapse(!0)}},{key:"onSkipAd",value:function(){this.state.isAdSkipped=!0;var e=this.player.container.querySelector("video");e.pause(),e.currentTime=0,this.player.once("AdStopped",function(){this.onAdEnd(),this.destroyAdPlayerContainer(),this.VAEI.onAdSkipped({isTrackerFired:!0,isAdPlayerFullscreen:this.state.isAdPlayerFullscreen,muted:this.playerMuted})}.bind(this)),this.player.stopAd()}},{key:"onInView",value:function(){this.state.isVideoEnded||this.VAEI.onInViewport()}},{key:"onOutOfView",value:function(){this.state.isVideoEnded||this.VAEI.onOutOfViewport()}}]),e}(),p=function(){function e(t){u(this,e);var n=t.sectionId,i=t.adUXIndex,r=t.duration,o=t.viewability,a=t.videoId;this.viewability=o,this.sectionId=n,this.videoId=a,this.duration=r,this.adUXIndex=i,this.disableVideoMoatTag=!1,this.moatScriptTagId="moatScriptId_".concat(Math.floor(1e8*Math.random()))}return l(e,[{key:"init",value:function(){try{var e=this.viewability[2],t=e.id||"vservnativevideo834389791328",n=function(){try{return{partnerId:e.id,mcl1:e.macros.moatClientLevel1,mcl2:e.macros.moatClientLevel2,mcl3:e.macros.moatClientLevel3,mcl4:e.macros.moatClientLevel4,mcs1:e.macros.moatClientSlicer1,mcs2:e.macros.moatClientSlicer2}}catch(e){return!1}}();if(!n)return;var i={level1:n.mcl1||"",level2:n.mcl2||"",level3:n.mcl3||"",level4:n.mcl4||"",slicer1:n.mcs1||"",slicer2:n.mcs2||""},r=(n.partnerId,document.getElementById(this.videoId));this.mediaUrl=this.mediaUrl||r.currentSrc;var o=this.duration?parseInt(this.duration):Math.floor(r.duration)||0;this.MoatApiReference=this.initMoatTracking(r,i,o,t,this.mediaUrl||"")}catch(e){console.error("Cannot insert moat tag!",e)}}},{key:"moatEvent",value:function(e){try{console.debug("Executing MOAT Tracking: ".concat(e)),void 0!==this.MoatApiReference&&this.MoatApiReference instanceof Object&&this.MoatApiReference.dispatchEvent({type:e,adVolume:1})}catch(e){console.debug("Can't execute MOAT... "+e)}}},{key:"initMoatTracking",value:function(e,t,n,i,r){var o,a,s=document.createElement("script"),u=[];t={adData:{ids:t,duration:n,url:r},dispatchEvent:function(e){this.sendEvent?(u&&(u.push(e),e=u,u=!1),this.sendEvent(e)):u.push(e)}},n="_moatApi"+Math.floor(1e8*Math.random());try{a=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,a=window}return a[n]=t,s.type="text/javascript",e&&e.insertBefore(s,e.childNodes[0]||null),s.src="https://z.moatads.com/"+i.replace(/\\[ccb\\]/gi,(new Date).getTime())+"/moatvideo.js#"+n,t}}]),e}()},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);