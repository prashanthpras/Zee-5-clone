function createNewEvent(eventName){var event;return"function"==typeof Event?event=new Event(eventName):(event=document.createEvent("Event")).initEvent(eventName,!0,!0),event}document.addEventListener("kalturaInitiated",function(){window.VmaxKalturaAdsPlugin=function(name,player,config){KalturaPlayer.core.BasePlugin.call(this,name,player,config),this.ads=this.config.ads,this.onAdBreakStart=this.config.onAdBreakStart,this.onAdBreakComplete=this.config.onAdBreakComplete,this.onContentPlay=this.config.onContentPlay,this.onContentPause=this.config.onContentPause,this.onAdEnterFullscreen=this.config.onAdEnterFullscreen,this.onAdExitFullscreen=this.config.onAdExitFullscreen,this._isInit=!0,this._isResetCounter=0;const isMac=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);console.log(">>>> is Mac? ",isMac),isMac||this.player.configure({autostart:!1,playback:{autoplay:!1,preload:"auto"}}),this._addBindings()},window._VmaxKalturaAdsPlugin_tapToUnmuteButtonShown=!1,VmaxKalturaAdsPlugin.createPlugin=KalturaPlayer.core.BasePlugin.createPlugin,VmaxKalturaAdsPlugin.prototype=new KalturaPlayer.core.BasePlugin,VmaxKalturaAdsPlugin.getAdsContainer=vmaxAdaptor._getAdsContiner_,VmaxKalturaAdsPlugin.defaultConfig={ads:[],onAdBreakStart:function(){},onAdBreakComplete:function(){},onContentPause:function(){},onContentPlay:function(){},onAdEnterFullscreen:function(){},onAdExitFullscreen:function(){}},VmaxKalturaAdsPlugin.isValid=function(player){return!0},VmaxKalturaAdsPlugin.prototype.destroy=function(){console.log(">>>>>> Player Plugin Destroy"),this.ads=[],this.onAdBreakStart=function(){},this.onAdBreakComplete=function(){},this.onContentPlay=function(){},this.onContentPause=function(){},this.onAdEnterFullscreen=function(){},this.onAdExitFullscreen=function(){},_VmaxKalturaAdsPlugin_tapToUnmuteButtonShown=!1,vmaxAdaptor.stopAds()},VmaxKalturaAdsPlugin.prototype.reset=function(){console.log(">>>>>> Player Plugin Reset"),this.ads=[],this.onAdBreakStart=function(){},this.onAdBreakComplete=function(){},this.onContentPlay=function(){},this.onContentPause=function(){},this.onAdEnterFullscreen=function(){},this.onAdExitFullscreen=function(){},this._isResetCounter=0,_VmaxKalturaAdsPlugin_tapToUnmuteButtonShown=!1,vmaxAdaptor.stopAds()},VmaxKalturaAdsPlugin.prototype.updateConfig=function(updatedConfig){if(this._isInit)this._isInit=!1;else if(!(this._isResetCounter>0))if(this._isResetCounter++,vmaxAdaptor.stopAds(),updatedConfig&&updatedConfig.hasOwnProperty("ads")&&updatedConfig.ads&&0!==Object.keys(updatedConfig.ads).length)try{this.ads=this.__cleanup(updatedConfig.ads)||{},this.onAdBreakStart=updatedConfig.onAdBreakStart,this.onAdBreakComplete=updatedConfig.onAdBreakComplete,this.onContentPlay=updatedConfig.onContentPlay,this.onContentPause=updatedConfig.onContentPause,this.onAdEnterFullscreen=updatedConfig.onAdEnterFullscreen,this.onAdExitFullscreen=updatedConfig.onAdExitFullscreen,console.log("vmaxAdsObject >> Update2 >>",updatedConfig,"\n"),this._addBindings(!0)}catch(err){console.error("Could not clean the updated config!\n",err)}else this.player.configure({autostart:!0,playback:{autoplay:!0,preload:"auto"}})},VmaxKalturaAdsPlugin.prototype.__cleanup=function(adsObject){return function(){if(adsObject.hasOwnProperty("video_ads")&&Object.keys(adsObject.video_ads).length>0)for(_interval in adsObject.video_ads){var _ads=adsObject.video_ads[_interval];for(_sequence in _ads)0==Object.keys(_ads[_sequence]).length&&delete adsObject.video_ads[_interval][_sequence]}if(adsObject.hasOwnProperty("video_break")&&Object.keys(adsObject.video_break).length>0)for(_interval in adsObject.video_break)0==Object.keys(adsObject.video_break[_interval]).length&&delete adsObject.video_break[_interval];return adsObject}()&&function(){for(_interval in adsObject)0==Object.keys(adsObject[_interval]).length&&delete adsObject[_interval];return adsObject}()},VmaxKalturaAdsPlugin.prototype._addBindings=function(reInitialize){reInitialize=void 0!==reInitialize&&reInitialize;var playerContainer=this.player.getView(),_this=this,isAdObjectPresent=this&&this.hasOwnProperty("ads")&&Object.keys(this.ads).length>0,isVideoAdsPresent=isAdObjectPresent&&this.ads.hasOwnProperty("video_ads")&&Object.keys(this.ads.video_ads).length>0,isVideoBreakPresent=isAdObjectPresent&&this.ads.hasOwnProperty("video_break")&&Object.keys(this.ads.video_break).length>0;isVideoAdsPresent||isVideoBreakPresent?playerContainer.hasBeenAddedToDocument(function(){try{_this.tapToUmuteButtonShown=!0;var playerParent=playerContainer.closest(".kaltura-player-container");vmaxAdaptor.showAds({ads:_this.ads,onAdBreakStart:_this.onAdBreakStart,onAdBreakComplete:_this.onAdBreakComplete,onContentPause:_this.onContentPause,onContentPlay:_this.onContentPlay,onAdEnterFullscreen:_this.onAdEnterFullscreen,onAdExitFullscreen:_this.onAdExitFullscreen,playerContainer:playerParent,eventManager:_this.eventManager,player:_this.player,reInitialize:reInitialize})}catch(err){console.error(err)}}):this.player.configure({autostart:!0,playback:{autoplay:!0,preload:"auto"}})}});var kalturaInitiatedEvent=function(){var event;return"function"==typeof Event?event=new Event("kalturaInitiated"):(event=document.createEvent("Event")).initEvent("kalturaInitiated",!0,!0),event}(),kalturaInitiated=setInterval(function(){try{KalturaPlayer&&(document.dispatchEvent(kalturaInitiatedEvent),clearInterval(kalturaInitiated))}catch(err){}},10);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(s){var el=this;do{if(el.matches(s))return el;el=el.parentElement||el.parentNode}while(null!==el&&1===el.nodeType);return null}),Element.prototype.hasBeenAddedToDocument=function(callback){try{var __el=this,__timer=setInterval(function(){__el.parentNode&&(clearInterval(__timer),callback())},100)}catch(err){console.warn("Error to detect the element",err)}};