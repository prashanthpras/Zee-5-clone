(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{916:function(t,e,a){"use strict";a.r(e);var n,i=a(4),o=a(3),r=a.n(o),s=a(51),d=a(31),l=a(24),c=a(80),u=a(43),w=(a(917),a(192)),g=a(63),b=a(41),v=a(91),y=a(0),p=a(44),m=a(180),P=a(6),f=a(8),O=a(9),D=a(7),k=!1;e.default=Object(d.c)(function(t){var e=t.InitialData,a=t.Login,n=t.Settings,i=t.UserData,o=(e.adsData||{}).isVmax,r=void 0!==o&&o;return{token:a.token,displayLanguage:n.display_language,contentLanguage:n.content_language,country:e.location.country_code,userData:i,isLoggedIn:a.isLoggedIn,countryList:e.countryList,InitialData:e,isFirstRendering:e.isFirstRendering,enhancedSubscriptionData:e.countryList[0]?e.countryList[0].enhance_subscription_journey:{},deviceWidth:e.deviceWidth,region:e.location.state_code,isVmaxGlobal:Object(p.i)({vmaxconfig:e.countryList[0].vmax,InitialData:e,location:t.router.location}),isVmax:r,packType:i.packType,partnerSetting:n.partner,settingsData:n.settingsApiData}},function(t){return{pushRoute:Object(l.b)(c.e,t),mandatoryRegistrationCallbackUtil:Object(l.b)(g.updateMandatoryRegistrationPopup,t),togglePlayerSetupFlag:Object(l.b)(u.togglePlayerSetup,t),setContentMetaInfo:Object(l.b)(u.setContentMetaData,t),recommendedCardClickAction:Object(l.b)(v.recommendedCardClick,t),singlePlayApiErrorAction:Object(l.b)(u.toggleSinglePlayApiError,t),isPlaybackSupportedAction:Object(l.b)(g.updateIsPlaybackSupported,t),setVITvod:Object(l.b)(m.setVITvodState,t)}})(function(t){var e=t.contentId,a=t.handleDidMount,d=t.displayLanguage,l=t.contentLanguage,c=t.token,u=t.pushRoute,g=t.pageData,v=t.showData,p=t.country,m=t.primaryMediaId,j=t.clipOffset,S=t.SimilarFromReco,C=t.userData,z=t.isFirstRendering,h=t.countryList,I=t.InitialData,E=t.mandatoryRegistrationCallbackUtil,R=t.togglePlayerSetupFlag,L=t.enhancedSubscriptionData,T=t.isSimilarPending,A=t.modelName,J=t.callConsumptionPageApis,_=t.partnerSetting,V=t.recommendedCardClickAction,x=t.deviceWidth,M=t.setContentMetaInfo,F=t.region,N=t.isVmax,W=t.startTime,G=t.endTime,U=t.livePlaybackEndTime,q=t.getUpNextLiveIndex,B=t.goLiveCallback,K=t.isVmaxGlobal,Q=t.packType,H=t.singlePlayApiErrorAction,X=t.settingsData,Y=t.isLoggedIn,Z=t.tvodObj,$=t.showGamificationWidget,tt=t.z5Strings,et=t.setVITvod,at=t.languageList,nt=t.flag,it=t.isTvodEvent,ot=t.triggerAdFallback,rt=t.makeShdCall,st=Object(o.useRef)(!1),dt=Object(o.useRef)(!1),lt=Object(o.useRef)({items:[],isPending:!0}),ct=j?parseInt(j,10):j,ut=function(){var t=I.isPending;return C.mandatoryRegistrationPopupOpen?(st.current=!0,!0):(t||window.location.pathname.indexOf("/latest1"),st.current=!0,!1)},wt=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&""!==e){var a=Object(s.k)({fromMandetory:t,pageData:g,deviceWidth:x}),n=!0;if((ut()||C.mandatoryRegistrationPopupOpen||!st.current||dt.current)&&(k=!0,n=!1,window&&window.Conviva&&b.a&&b.a.reportEvent(window.Conviva.Constants.PlayerState.STOPPED)),n&&Object(s.m)({contentId:e,primaryMediaId:m,showData:g.showDetails||g.assetDetails.show_details})){if(a&&a.dataset&&a.dataset.posterset&&(a.dataset.posterset||"true"!==a.dataset.posterset)&&a.removeAttribute("data-posterset"),Object(s.c)({isLoggedIn:Y,userData:C,pageData:g,contentId:e,isVmax:N,country:p}),window&&window.Conviva&&b.a&&(b.a.reportEvent(window.Conviva.Constants.PlayerState.STOPPED),g&&(!g.error_code||"606"===g.error_code||"3608"===g.error_code||"3603"===g.error_code))){var o=g.trailerDetails,r=g.assetDetails,c=void 0===r?{}:r,u=g.keyOsDetails,w=void 0===u?{}:u,j=g.showDetails,S=void 0===j?{}:j,z=o||c||{},h=Object(D.f)("mandatoryRegistrationVideoCount"),I=h&&(h===O.R||h>O.Q),E="premium"===Object(f.q)(P.Gb),R=Object(D.f)("mandatoryRegistrationPopupCount");(I||R>=O.P)&&!E||b.a.setInitialContentInfo(Object(i.a)({},z,w,{showDetails:S}))}y.n&&"N/A"===y.n[y.l.CONTENT_ID]&&Object(y.e)(y.n,g.assetDetails,null,!1),window.ztvlib.userData=C,Object(s.d)(g,Z,b.a)&&(Object(s.h)({contentId:e,displayLanguage:d,contentLanguage:l,contentData:g,showDetail:v,country:p,primaryMediaId:m,startOffset:ct,callConsumptionPageApis:J,recoItems:lt.current,userData:C,packType:Q,settingsData:X,tvodObj:Z,deviceWidth:x,isLoggedIn:Y,startTime:W,endTime:G,livePlaybackEndTime:U,getUpNextLiveIndex:q,goLiveCallback:B,showGamificationWidget:$,triggerAdFallback:ot,isTvodEvent:it,makeShdCall:rt}),k=!0)}}};Object(o.useEffect)(function(){var t=document.querySelector(".promoButtonDiv");t&&(m&&-1===t.className.indexOf("trailerPlayback")?t.classList.add("trailerPlayback"):g&&!g.error_code&&t.className.indexOf("trailerPlayback")>=0&&t.classList.remove("trailerPlayback"))},[m]),Object(o.useEffect)(function(){if(window.ztvlib){var t=_&&_.config&&_.config.chrome_cast;void 0!==t&&null!==t&&(window.ztvlib.displayChromeCastForTelco=t),window.ztvlib.getPlayerJson()&&(window.ztvlib.getPlayerJson().showDetail=v)}},[v,_]),Object(o.useEffect)(function(){window.ztvlib&&window.ztvlib.getPlayerJson&&window.ztvlib.getPlayerJson()&&(window.ztvlib.getPlayerJson().livePlaybackEndTime=U)},[U]),Object(o.useEffect)(function(){!C.mandatoryRegistrationPopupOpen&&window.isPlayerSetup&&k&&wt(!0)},[C.mandatoryRegistrationPopupOpen]),Object(o.useEffect)(function(){window.ztvlib&&window.ztvlib.setPlayerJson(Object(i.a)({},window.ztvlib.getPlayerJson(),{userData:C,partnerSetting:_})),window.kalturaPlayer&&!window.kalturaPlayer.src&&g&&g.error_code&&Object(s.d)(g,Z,b.a,!0),window.ztvlib&&window.ztvlib.getPlayerJson()&&(window.ztvlib.getPlayerJson().userData=C,window.ztvlib.getPlayerJson().tvodObj=Z,Z&&Z.amount&&window.videoPlayback&&"604"===g.error_code&&(window.ztvlib.setPlayerJson(Object(i.a)({},window.ztvlib.getPlayerJson(),{contentDetail:g.assetDetails})),window.videoPlayback.setSinglePlayDetails(g),window.ztvlib.eventmanager.showSubscribeMsg()))},[C,Z,_]);var gt=(Z||{}).isComboOfferEnabled,bt=void 0!==gt&&gt;Object(o.useEffect)(function(){Z&&Z.amount&&window.videoPlayback&&"604"===g.error_code&&window.ztvlib.eventmanager.showSubscribeMsg(!0)},[bt]);var vt=function(){Object(w.a)({countryList:h,contentData:ztvlib.getPlayerJson().contentDetail,updateViewedCount:!0,country:p})},yt=function(t,e){var a=Object(w.a)({countryList:h,contentData:e,updateViewedCount:!1,country:p}),n=!Number(localStorage.getItem("mandatoryRegistrationPopupCount")>=5);a&&(t&&!0!==st.current?(dt.current=!1,E({mandatoryRegistrationPopupOpen:t,mandatoryRegistrationPopupSkippable:n})):C.mandatoryRegistrationPopupOpen&&(dt.current=!0,E({mandatoryRegistrationPopupOpen:t,mandatoryRegistrationPopupSkippable:n})))},pt=function(){var t=N&&K;if(!window.isPlayerSetup){Object(s.j)({token:c,pushRoute:function(t){return u(t)},country:p,displayLanguage:d,mandatoryRegistrationCallback:ut,updateMandatoryRegistrationViewCount:vt,enhancedSubscriptionData:L,convivaAnalytic:b.a,userData:C,isFirstRendering:z,toggleMandatoryRegistrationPopup:yt,recommendedCardClickAction:V,region:F,isVmax:t,partnerSetting:_,setContentMetaInfo:M,singlePlayApiErrorAction:H,tvodObj:Z,z5Strings:tt,setVITvod:et,languageList:at,isTvodEvent:it}),window.isPlayerSetup=!0;var e=document.querySelector(".playkit-black-cover");e&&(e.style.display="none"),R(!0)}};return Object(o.useEffect)(function(){return a&&(window.KalturaPlayer&&window.ztvlib&&window.EventManager&&window.AnalyticEngine?window.ztvlib&&!window.isPlayerSetup?pt():window&&(window.nonEventContentWatched&&it||window.eventContentWatched&&!it)&&pt():(window.isPlayerSetup=!1,R(!1),n=setInterval(function(){window.KalturaPlayer&&window.ztvlib&&window.EventManager&&window.AnalyticEngine&&(clearInterval(n),pt(),wt())},1e3))),function(){window.ztvlib&&window.ztvlib.getPlayerJson()&&(window.ztvlib.getPlayerJson().content_id=void 0),k=!1,window.isPlayerSetup&&(window.ztvlib.eventmanager&&(window.ztvlib.eventmanager.watchDurationCalculator(),window.kalturaPlayer&&(window.kalturaPlayer.ads&&window.kalturaPlayer.ads.isAdBreak()||document.querySelector(".vservPlayer"))&&window.ztvlib.eventmanager.adWatchDurationCalculator(!0)),window.ztvlib.setPlayerJson(void 0),window.ztvlib.resetWebPlayer()),clearInterval(n)}},[a]),Object(o.useEffect)(function(){window.isPlayerSetup&&window.kalturaPlayer&&e&&""!==e?(st.current=!1,wt()):e&&""!==e||!window.ztvlib||!window.ztvlib.getPlayerJson()||(window.ztvlib.getPlayerJson().content_id=void 0)},[e]),Object(o.useEffect)(function(){window.isPlayerSetup&&window.kalturaPlayer&&e&&""!==e?(st.current=!1,nt&&wt()):e&&""!==e||!window.ztvlib||!window.ztvlib.getPlayerJson()||(window.ztvlib.getPlayerJson().content_id=void 0)},[W]),Object(o.useEffect)(function(){S&&S.length&&!T&&(lt.current.items=S,lt.current.modelName=A,window.videoPlayback&&window.videoPlayback.setSuggestedVodDetails&&window.videoPlayback.setSuggestedVodDetails({items:S,modelName:A})),lt.current.isPending=void 0===T||T},[S,T]),r.a.createElement(r.a.Fragment,null)})},917:function(t,e,a){}}]);
//# sourceMappingURL=playerComponent.fa9f4330.chunk.js.map