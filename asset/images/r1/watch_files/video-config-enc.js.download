var translationsAndConfigs=translationsAndConfigs&&Object.keys(translationsAndConfigs).length?translationsAndConfigs:{};translationsAndConfigs.messages=translationsAndConfigs.messages||{};var companionad={};const playbackUI=e=>{const t=window.KalturaPlayer.ui.h;var a=window.KalturaPlayer.ui.Components,i=e.state.engine.adBreak,l=e.state.engine.isLive||window.kalturaPlayer&&window.kalturaPlayer.isLive&&window.kalturaPlayer.isLive(),n=window.kalturaPlayer&&window.kalturaPlayer.paused,r=window.kalturaPlayer&&window.kalturaPlayer.isFullscreen&&window.kalturaPlayer.isFullscreen(),o=document.getElementsByClassName("playkit-icon-start-over"),s=window.ztvlib&&window.ztvlib.getPlayerJson()&&window.ztvlib.getPlayerJson().endTime,c=window.ztvlib&&window.ztvlib.getPlayerJson()&&window.ztvlib.getPlayerJson().startTime,d=window.ztvlib&&window.ztvlib.getPlayerJson()&&window.ztvlib.getPlayerJson().endTime;return t("div",{className:"playerControl"},t("div",{className:"poc-loader"},t(a.Loading,{player:e.player})),t(a.Watermark,{player:e.player,config:e.config}),t(a.KeyboardControl,{player:e.player,config:e.config}),t("div",{className:"playkit-player-gui",id:"toggle-player-controls"},t("div",{className:"overlay-portal"}),t("div",{className:"playkit-overlay-action"}),t("div",{className:"playkit-playback-controls"},l?"":t("div",{className:"rewind-control",title:"Rewind 10s"},t(a.RewindControl,{player:e.player,step:10,config:e.config})),t("div",{className:"PlayPause-control",title:0<o.length?"Replay":n?"Play":"Pause",onClick:e=>{0<=e.target.className.indexOf("playkit-icon-start-over")&&(e=new Event("onReplay"),zTvLibEvent.dispatchEvent(e))}},t(a.PlayPauseControl,{player:e.player,config:e.config})),l?"":t("div",{className:"forward-control",title:"Forward 10s"},t(a.Forward,{player:e.player,step:10,config:e.config}))),t("div",{className:"playkit-bottom-bar"},i||l?"":t(a.SeekBarPlaybackContainer,{showFramePreview:!0,showTimeBubble:!0,player:e.player,playerContainer:e.playerContainer}),t("div",{className:"bottom-left-container"},t("div",{className:"playkit-left-container"},i?"":t("div",{className:"volume-container",title:"Volume"},t(a.VolumeControl,{player:e.player,config:e.config})),t("div",{className:"timeDuration-Container"},l?"":t("div",{className:`currentDuration${i?" adBreak":""}`},t(a.TimeDisplayPlaybackContainer,{format:"current"})),l?"":t("div",{className:`totalDuration${i?" adBreak":""}`},t(a.TimeDisplayPlaybackContainer,{format:"total"})),i?t("div",{className:"AdscurrentDuration"},t(a.TimeDisplayAdsContainer,{format:"current"})):"",i?t("div",{className:"AdstotalDuration"},t(a.TimeDisplayAdsContainer,{format:"total"})):""))),t("div",{className:"bottom-right-container"},t("div",{className:"playkit-right-container"},i?"":t(SettingsComponent),i?null:t("div",{className:"toggleScreen"},t("div",{className:"playkit-overlay-fullScreen",title:r?"Exit Fullscreen":"Enter Fullscreen"},t(a.FullscreenControl,{player:e.player,config:e.config}))),!s&&(!c||d||l)||i?"":t("div",{className:"livetagContainer",onClick:()=>{window.ztvlib.getPlayerJson().goLive()}},t("div",{className:"GoliveContainer"},t("div",{className:"goliveBtn"},"GO LIVE"))),i||!l||s?"":t("div",{className:"livetagContainer"},t(a.LiveTag,{player:e.player,config:e.config}))))),i?t("div",{id:"myProgress",className:"playkit-seekBar"},t("div",{id:"adsSeekBar"})):""),ztvlib.eventmanager&&!0!==ztvlib.infoTimer?ztvlib.eventmanager.infoContainerHandler():null)};var config=config||{getEnvironment:function(){return"production"==("staging"===ztvlib.getPlayerConfig().build?"development":"production")?{userapi:"https://userapi.zee5.com/",newUserAPI:"https://api.zee5.com/",entitlement:"https://subscriptionapi.zee5.com/",gwapi:"https://gwapi.zee5.com/",mandatoryPopupCount:6}:{userapi:"https://user-acc.zee5.com/",newUserAPI:"https://apistaging.zee5.com/",entitlement:"https://subscription-acc.zee5.com/",gwapi:"https://gwapistag.zee5.com/",mandatoryPopupCount:6}},getCookieData:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),i=0;i<a.length;i++){for(var l=a[i];" "==l.charAt(0);)l=l.substring(1);if(0==l.indexOf(t))return l.substring(t.length,l.length)}return""},setCookieData:function(e,t){document.cookie=e+"="+t},getLocalData:function(e){return localStorage.getItem(e)},setLocalData:function(e,t){localStorage.setItem(e,t)}},ztvlib=ztvlib||function(){window.kalturaPlayer="";var t={};let a=null;return{playerObject:{},triggerAdFallback:null,teaserTimer:!0,errorCode:{PLAYBACK_SESSION_ERROR:6014,PLATFORM_NOT_SUPPORTED_MWEB:"610",PLAYBACK_RESTRICTED_CODE:"4012",TVOD_DEVICE_LIMIT_CODE:"3603",PLAYBACK_ERROR_RELOAD:"401",CONTENT_NOT_AVAILABLE:"607"},dfpAdErrorCode:{303:"303-No response or empty VAST",301:"301-Request Timeout",402:"402-Media Timeout",1009:"1009-empty VAST document",other:"other-DFP Ad Playback Error"},vmaxAdErrorCode:{"001":"001-No response or empty VAST",405:"405-Media Timeout / Ad Player error","003":"003-Ad request Network Failure",400:"400-Media load error",other:"other-VMAX Ad Playback Error"},infoTimer:null,isRecommended:!1,lastSetBitrate:0,isConvivaSessionRequired:!0,intervalobj:null,isDai:!1,isLiveContentAd:!1,playerConfig:{},playerData:{},convivaCustomTags:{},eventmanager:null,isPlaybackStarted:!1,isAutoPlay:!1,isLoadMediaTriggered:!1,playbackTimeout:null,userData:null,isCastOnline:!1,isAdPlaying:!1,isHLS:!1,vmaxAdsObject:null,vmaxOverlayAd:null,watchTimeAfterNetworkOnline:null,isPostRollDone:!1,isVmaxPreroll:!1,placementId:[],displayChromeCastForTelco:!0,viewingModeOld:"",parentalPinActiveContent:!1,adPriority:!1,parentalPinIncorrect:!1,isTvodEvent:!1,getConvivaCustomTags:function(){return this.convivaCustomTags},setConvivaCustomTags:function(e){this.convivaCustomTags=e},setUIManager:function(e){uiManager=new e},getUIManager:function(){return uiManager},setIsPopupRequired:function(e){a=e},getIsPopupRequired:function(){return a},getViewingModeOld:function(){return this.viewingModeOld},setViewingModeOld:function(e){this.viewingModeOld=e},setVmaxPrerollFlag:function(t){if(ztvlib.isVmaxPreroll=!1,ztvlib.vmaxAdsObject&&ztvlib.vmaxAdsObject.video_break&&ztvlib.vmaxAdsObject.video_break[0]){let e=Object.keys(ztvlib.vmaxAdsObject.video_break[0]);ztvlib.isVmaxPreroll=e.some(e=>ztvlib.vmaxAdsObject.video_break[0][e]&&ztvlib.vmaxAdsObject.video_break[0][e].tagid===t)}ztvlib.getPlayerConfig().convivaAnalytic.reportEvent("adBreakStart")},canContentPlay(){var e=ztvlib.getPlayerJson();if(e&&ztvlib.getPlayerJson().content_id){var t=e.content_id,a=e.watchTrailerPlayBackType&&e.watchTrailerPlayBackType.mediaId,i=e.carousalPlayBackType&&e.carousalPlayBackType.isBanner,e=e.singlePlayData.showDetails||e.singlePlayData.assetDetails.show_details;return ztvlib.getPlayerConfig().shouldContentPlay({contentId:t,primaryMediaId:a,carouselAutoPlayObject:i,showData:e})}return!1},putContentDetailsToMixpanel:function(e){e={analyticData:this.playerData,data:e};this.eventmanager&&this.eventmanager.jsonInitilize(e)},getPlayerJson:function(){return this.playerData},setPlayerJson:function(e){this.playerData=e},getDeviceInfo:function(){return t},setDeviceInfo:function(e){t.drm=e.sdrm,t.DeviceType=e.DeviceType,t.DeviceBrowser=e.DeviceBrowser},getPlayerConfig:function(){return this.playerConfig},isSamsungDevice:function(){let e=config.getCookieData("partner");return-1!=e.indexOf("samsungmygalaxyapp")},onSessionExpire:function(e){ztvlib.getPlayerConfig().convivaAnalytic.reportEvent("vsferror",`CE_Web_005-Playback session has expired - ${e}`)},onErrorEvent:function(e){var{keyOsDetails:t,assetDetails:a}=videoPlayback.getSinglePlayDetails(),i=t&&t.hls_token,t=a&&a.is_drm;ztvlib.getPlayerJson().callConsumptionPageApis&&ztvlib.getPlayerJson().callConsumptionPageApis();a=extractURL(e&&e.payload&&e.payload.data)||"NA";if(e.payload&&1001<=e.payload.code&&e.payload.code<=1003&&2==e.payload.severity&&e.payload.data){if(!(403!=e.payload.data[1]&&404!=e.payload.data[1]||videoPlayback.isPremiumContent()))return kalturaPlayer&&(videoPlayback.setVodCurrentTime(kalturaPlayer.currentTime),kalturaPlayer.pause(),kalturaPlayer.reset(),document.querySelector(".upgradePopupContent")&&ztvlib.getPlayerConfig().controlSubscriptionPopup("visible")),i&&t?videoPlayback.initFallbackPlayer():(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_013",errorMessage:`CE_Web_013-DRM Failed HLS Fallback - ${e.payload.code}-${a}`})}),ztvlib.getPlayerConfig().convivaAnalytic.reportEvent("vsferror",`CE_Web_013-DRM Failed HLS Fallback - ${e.payload.code}-${a}`),ztvlib.eventmanager.compatibilityMessage(e.payload.code)),!0;if(window.navigator&&!window.navigator.onLine)return ztvlib.eventmanager.networkRetry(),window.navigator&&window.navigator.connection?window.navigator.connection.onchange=()=>{if(window.navigator&&window.navigator.onLine&&document.querySelector(".playkit-container")){document.querySelector(".playkit-container").removeChild(document.querySelector(".networkError"));var t=kalturaPlayer.currentTime;videoPlayback.setVodCurrentTime(t),kalturaPlayer.reset();let e=document.querySelector(".playerControl");e&&"none"===e.style.display&&(e.style.display="block"),ztvlib.getPlayerJson()&&(ztvlib.getPlayerJson().startOffset=null,videoPlayback.initializePlaybackType()),window&&window.navigator&&window.navigator.connection&&window.navigator.connection.onchange&&(window.navigator.connection.onchange="")}}:ztvlib.intervalobj=setInterval(function(){if(window.navigator&&window.navigator.onLine&&document.querySelector(".playkit-container")){var e=kalturaPlayer.currentTime;videoPlayback.setVodCurrentTime(e),kalturaPlayer.reset();const t=document.querySelector(".playerControl");t&&(t.style.display="block"),document.querySelector(".networkError")&&document.querySelector(".playkit-container").removeChild(document.querySelector(".networkError")),ztvlib.getPlayerJson()&&(ztvlib.getPlayerJson().startOffset=null,videoPlayback.initializePlaybackType()),clearInterval(ztvlib.intervalobj)}},100),!0}!videoPlayback.isPremiumContent()&&e.payload&&6001<=e.payload.code&&e.payload.code<=7007?(e.payload.code===ztvlib.errorCode.PLAYBACK_SESSION_ERROR?ztvlib.onSessionExpire(e.payload.code):(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_013",errorMessage:`DRM Failed HLS Fallback - ${e.payload.code}-${a}`})}),ztvlib.getPlayerConfig().convivaAnalytic.setConvivaErrorInfo(`CE_Web_013 - DRM Failed HLS Fallback - ${e.payload.code}-${a}`,window.Conviva.Constants.ErrorSeverity.WARNING)),videoPlayback.setSessionDrmError(!0),kalturaPlayer&&(kalturaPlayer.pause(),kalturaPlayer.reset(),document.querySelector(".upgradePopupContent")&&ztvlib.getPlayerConfig().controlSubscriptionPopup("visible")),i&&t?videoPlayback.initFallbackPlayer():(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_013",errorMessage:`DRM Failed HLS Fallback - ${e.payload.code}-${a}`})}),ztvlib.getPlayerConfig().convivaAnalytic.reportEvent("vsferror",`CE_Web_013-DRM Failed HLS Fallback - ${e.payload.code}-${a}`),ztvlib.eventmanager.compatibilityMessage(e.payload.code))):videoPlayback.isPremiumContent()&&e.payload&&2==e.payload.severity&&6001<=e.payload.code&&e.payload.code<=7007||"4012"==e.payload.code.toString()?(e.payload.code===ztvlib.errorCode.PLAYBACK_SESSION_ERROR?ztvlib.onSessionExpire(e.payload.code):(t="4012"==e.payload.code.toString()?"CE_Web_4012":"CE_Web_005",ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:`${t}`,errorMessage:`Kaltura Playback Error - ${e.payload.code}-${a}`})}),ztvlib.getPlayerConfig().convivaAnalytic.reportEvent("vsferror",`${t}-Kaltura Playback Error - ${e.payload.code}-${a}`)),kalturaPlayer&&(kalturaPlayer.pause(),kalturaPlayer.reset()),ztvlib.isLoadMediaTriggered=!1,ztvlib.eventmanager.removeLaunchApp(),ztvlib.eventmanager.compatibilityMessage(e.payload.code)):1==e.payload.severity&&2==e.payload.category?(console.log("Error",e),ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_015",errorMessage:`Other error - ${e.payload.code} - ${a}`})}),ztvlib.getPlayerConfig().convivaAnalytic.setConvivaErrorInfo(`CE_Web_015-Other error - ${e.payload.code} - ${a}`,window.Conviva.Constants.ErrorSeverity.WARNING)):e.payload&&1002===e.payload.code?(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_015",errorMessage:`Other error - ${e.payload.code} - ${a}`})}),ztvlib.getPlayerConfig().convivaAnalytic.reportEvent("vsferror",`CE_Web_015-Other error - ${e.payload.code} - ${a}`)):(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_015",errorMessage:`Other error - ${e.payload.code} - ${a}`})}),ztvlib.getPlayerConfig().convivaAnalytic.setConvivaErrorInfo(`CE_Web_015-Other error - ${e.payload.code} - ${a}`,window.Conviva.Constants.ErrorSeverity.WARNING))},readyPlayer:function(e){ztvlib.playerConfig=e,ztvlib.setDeviceInfo(e.deviceInfo),"undefined"!=typeof VmaxKalturaAdsPlugin&&KalturaPlayer.core.registerPlugin("VmaxKalturaAdsPlugin",VmaxKalturaAdsPlugin),e.ui.customPreset=[{template:e=>playbackUI(e)}],window.kalturaPlayer=KalturaPlayer.setup(e),ztvlib.eventmanager=new EventManager,e.convivaAnalytic.initializeConviva(),ztvlib.eventmanager&&ztvlib.eventmanager.initialize()},setConvivaInfoMessage:function(){var{isBeforeTv:e,isTrailer:t,isAVOD:a,isAdAuthenticated:i}=videoPlayback.getSinglePlayDetails()&&videoPlayback.getSinglePlayDetails().entitlement||{};const l=ztvlib.getPlayerConfig().convivaAnalytic;t&&(e?(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_017",errorMessage:"Before TV Fallback"})}),l.setConvivaErrorInfo("CE_Web_017 - Before TV Fallback",window.Conviva.Constants.ErrorSeverity.WARNING)):a&&!i?(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_019",errorMessage:"Age Rating Fallback"})}),l.setConvivaErrorInfo("CE_Web_019 - Age Rating Fallback",window.Conviva.Constants.ErrorSeverity.WARNING)):i?(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_016",errorMessage:"Advertisement Authenticated Fallback"})}),l.setConvivaErrorInfo("CE_Web_016 - Advertisement Authenticated Fallback",window.Conviva.Constants.ErrorSeverity.WARNING)):(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:JSON.stringify({errorCode:"CE_Web_018",errorMessage:"Premium Playback Fallback"})}),l.setConvivaErrorInfo("CE_Web_018 - Premium Playback Fallback",window.Conviva.Constants.ErrorSeverity.WARNING)))},vmaxInSpapiCheck:function(e){var{adDetails:{adPriority:{VMAX:t=0,DFP:a=0}={},VMAX:e={}}={}}=e||{};return 0!=t&&0!=a&&(ztvlib.adPriority=!0),(1===t&&2===a&&!getLocalStorage("vmaxAdPlayed")&&e||!(2!==t||1!==a||!getLocalStorage("dfpAdPlayed")||!e))&&0<Object.keys(e).length},liveContentAd:function(e){if(e&&e.assetDetails&&e.assetDetails.id){const t=e.assetDetails;return t.id.split("-").length&&"9"===t.id.split("-")[1]||t.slug&&-1<t.slug.indexOf("0-9-")}return!1},loadMediaToken:function(e){e&&e.contentDetail.watermark_id&&createMarker(e.contentDetail.watermark_id),document.querySelector(".player-poster")&&document.querySelector(".playkit-poster").classList.remove("player-poster");var t=e.singlePlayData;ztvlib.setIsPopupRequired(!1),ztvlib.triggerAdFallback=e.triggerAdFallback,ztvlib.resetWebPlayer(),ztvlib.isPlaybackStarted=!1,ztvlib.isLoadMediaTriggered=!0,ztvlib.vmaxInSpapi=this.vmaxInSpapiCheck(t),ztvlib.isLiveContentAd=this.liveContentAd(t),ztvlib.hasSkipandMandatory=!1,ztvlib.isTvodEvent=e.isTvodEvent,ztvlib.licenseUrl=e.licenseUrl,videoPlayback.setSuggestedVodDetails({items:[]}),videoPlayback.isNextContentApiCalled=!1,ztvlib.isAdPlaying=!1,ztvlib.isHLS=!1,kalturaPlayer&&(kalturaPlayer.pause(),kalturaPlayer.reset()),ztvlib.setPlayerJson(e),t&&videoPlayback.setSinglePlayDetails(t),e.settingsData&&videoPlayback.setSettingsDetails(e.settingsData),"Chrome"===ztvlib.playerConfig.deviceInfo.DeviceBrowser&&window.navigator.userAgent.match(/iPhone|iPad/i)&&videoPlayback.setSessionDrmError(!0);const a=document.querySelector(".playkit-player-gui");a&&!a.hasAttribute("id")&&a.setAttribute("id","toggle-player-controls");t=this.getPlayableData(t);this.startPlaybackFlow(t)},startPlaybackFlow:function(e){if(e){const o=videoPlayback.getSinglePlayDetails().error_code;var t=videoPlayback.getSinglePlayDetails().error_msg,a=getLocalStorageInteger("mandatoryRegistrationVideoCount"),i=a&&3===a||7<a,l=ztvlib.getPlayerJson().userData&&ztvlib.getPlayerJson().userData.user,n=l&&l.mobile&&l.email,r="premium"===ztvlib.getPlayerConfig().userType,a=getLocalStorageInteger("mandatoryRegistrationPopupCount"),l=ztvlib.getPlayerJson().singlePlayData&&ztvlib.getPlayerJson().singlePlayData.assetDetails;l&&!0===l.content_qualify_for_mandatory_reg&&!n&&(i||a>=config.getEnvironment().mandatoryPopupCount||r||(ztvlib.getPlayerConfig().convivaAnalytic.initializeConviva(),ztvlib.getPlayerConfig().convivaAnalytic&&!ztvlib.getPlayerConfig().convivaAnalytic.convivaSessionStarted&&(o&&(!o||"3608"!==o&&"606"!==o)||(ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:"Not-Applicable"}),ztvlib.getPlayerConfig().convivaAnalytic.setInitialContentInfo(e))))),ztvlib.getPlayerConfig().convivaAnalytic&&ztvlib.getPlayerConfig().convivaAnalytic.convivaSessionStarted&&ztvlib.getPlayerConfig().convivaAnalytic.setContentInfo({infoMessage:"Not-Applicable"}),"3608"===o?(ztvlib.getPlayerJson().contentDetail=e,videoPlayback.setVodDetails(e),api.addDevice()):"3603"==(o&&o.toString())?ztvlib.eventmanager.compatibilityMessage(o,t):"606"===o?ztvlib.eventmanager.createParentLockPopup():o===ztvlib.errorCode.PLATFORM_NOT_SUPPORTED_MWEB?ztvlib.eventmanager.compatibilityMessage(o,t):(ztvlib.getPlayerJson().contentDetail=e,videoPlayback.setVodDetails(e),videoPlayback.initializePlayerData())}videoPlayback.getSinglePlayDetails()&&"607"===videoPlayback.getSinglePlayDetails().error_code&&(e=videoPlayback.getSinglePlayDetails(),ztvlib.eventmanager.compatibilityMessage(e.error_code,e.error_msg),ztvlib.eventmanager.redirectButton())},getPlayableData:function(e){const{entitlement:t,keyOsDetails:a,assetDetails:i,trailerDetails:l,error_code:n}=e;var r=ztvlib.getPlayerJson().isIncognitoOn,o=t&&t.isPremiumPlayback,s=i.is_drm,c=config.getLocalData("isTelcoUser"),e=config.getCookieData("partner")||config.getLocalData("partnerName");if(r&&o&&s&&!c&&!e)return ztvlib.eventmanager.incognitoPremiumPlaybackMessage(),null;if(t&&a){var{isAVOD:r,isTrailer:o,isLive:s,isPremiumPlayback:c,is_dai:e=!1}=t;if(ztvlib.isDai=e,(r&&!o||c)&&(i.is_drm&&a.sdrm||!i.is_drm&&a.hls_token))return"trailer"===i.asset_subtype?videoPlayback.toggleWatchTrailerButton(!0):videoPlayback.toggleWatchTrailerButton(!1),i;if(o&&a.sdrm)return r||""===ztvlib.getPlayerJson().packType&&ztvlib.setIsPopupRequired(!0),videoPlayback.toggleWatchTrailerButton(!0),l;if(s&&a.video_token)return i}else if("3608"===n||"606"===n||"610"===n||"3603"==(n&&n.toString()))return i;return null},charmboardPlay:function(){kalturaPlayer&&kalturaPlayer.play(),ztvlib.eventmanager.getAnalyticEngine().ReportEvent("playkit-ui-userclickedplay",event)},charmboardPause:function(){kalturaPlayer&&kalturaPlayer.pause(),ztvlib.eventmanager.getAnalyticEngine().ReportEvent("playkit-ui-userclickedpause",event)},charmboardSeekForward:function(){var e=document.querySelector("[aria-label^='Play']"),t={payload:{to:kalturaPlayer.currentTime+10,from:kalturaPlayer.currentTime}};ztvlib.eventmanager.updatePlayerSeekevent(t),kalturaPlayer.currentTime=kalturaPlayer.currentTime+10,e?kalturaPlayer.pause():kalturaPlayer.play()},charmboardSeekBackward:function(){var e=document.querySelector("[aria-label^='Play']"),t={payload:{to:kalturaPlayer.currentTime-10,from:kalturaPlayer.currentTime}};ztvlib.eventmanager.updatePlayerSeekevent(t),kalturaPlayer.currentTime=kalturaPlayer.currentTime-10,e?kalturaPlayer.pause():kalturaPlayer.play()},chromeCastRetriveSession:function({castState:e=""}){if(ztvlib.castPlayerConfig=new CastPlayerConfig,"CONNECTED"===e){ztvlib.castPlayerConfig.enableCastMode();e=ztvlib.castPlayerConfig.getChromecastCustomData();const t=cast.framework.CastContext.getInstance().getCurrentSession();if(t&&e&&Object.keys(e).length){const a=new chrome.cast.media.MediaInfo,i=new chrome.cast.media.LoadRequest(a);a.customData=e,window.kalturaPlayer.pause(),i.currentTime=window.kalturaPlayer.currentTime,ztvlib.eventmanager.setCastDuration(!0),t.loadMedia(i).then(ztvlib.castPlayerConfig.loadMediaSuccess,ztvlib.castPlayerConfig.loadMediaFail).catch(ztvlib.castPlayerConfig.loadMediaFail)}}},resetWebPlayer:function(){vodDetails={},document.querySelector("div [playerAdTag=ad]")&&document.querySelector("div [playerAdTag=ad]").remove(),videoPlayback.getVodDetails().lotameEventSent=!1,kalturaPlayer&&(ztvlib.resetAllPopups(),kalturaPlayer.pause(),kalturaPlayer.reset(),ztvlib.intervalobj&&clearInterval(ztvlib.intervalobj))},unloadPlayer:function(){vodDetails={},videoPlayback.getVodDetails().lotameEventSent=!1,ztvlib.isAdPlaying=!1,kalturaPlayer&&(ztvlib.resetWebPlayer(),kalturaPlayer.destroy(),window.kalturaPlayer="",ztvlib.intervalobj&&clearInterval(ztvlib.intervalobj))},resetAllPopups:function(){ztvlib.eventmanager&&ztvlib.eventmanager.removeAllPopus()},setParentalLock:function(e){parentalValue=e},getParentalLock:function(){return parentalValue},isParentalLockValidForContent:function(){let e=!1;var t;return videoPlayback.getSettingsDetails()&&videoPlayback.getSettingsDetails().parental_control&&"{}"!=videoPlayback.getSettingsDetails().parental_control&&(t=JSON.parse(videoPlayback.getSettingsDetails().parental_control),ztvlib.setParentalLock(t),ztvlib.getParentalLock()&&ztvlib.getParentalLock().age_rating&&(t=["U","U/A","A"],contentRating=videoPlayback.getVodDetails().age_rating,contentRating=""===contentRating?"U":contentRating,currentParentalControlRating=ztvlib.getParentalLock().age_rating,e=t.indexOf(contentRating)>=t.indexOf(currentParentalControlRating)&&"A"!=currentParentalControlRating,videoPlayback.getVodDetails().isControl=e)),e},parentControlUnlock:async function(e){let t=document.getElementById("incorrectPin"),a=document.getElementById("parentlock");var i=videoPlayback.getSinglePlayDetails().parentalControlPin;ztvlib.parentalPinIncorrect=!1;let l={};if(i==e){l={success:!0,failureReason:"N/A"},a.remove(),window.Conviva&&ztvlib.getPlayerConfig().convivaAnalytic.reportEvent(window.Conviva.Constants.Events.USER_WAIT_ENDED);e=await api.fetchSinglePlayApi(ztvlib.getPlayerJson().content_id);ztvlib.getPlayerConfig().validateSinglePlayData(e)?(videoPlayback.resetSinglePlayDetails(e),ztvlib.getPlayerConfig().checkContentPlayability(e)&&(e=this.getPlayableData(e),this.startPlaybackFlow(e))):ztvlib.getPlayerConfig().toggleSinglePlayApiError(),ztvlib.parentalPinActiveContent=!1}else{l={success:!1,failureReason:"Incorrect PIN. Please try again!"},ztvlib.parentalPinIncorrect=!0,t.style.display="block";for(let e=1;e<5;e++)document.querySelector(`#parentLockId${e}`)&&(document.querySelector(`#parentLockId${e}`).value="");document.querySelector("#parentLockId1")&&document.querySelector("#parentLockId1").focus()}l.mixpanelData=ztvlib.eventmanager.getMixpanelDataParentalOverlay(),ztvlib.playerConfig.triggerMixpanelParentalOverlayResult(l)},initCompanionAd:function(e,t,a){googletag.cmd.push(function(){googletag&&null!=(slot=googletag.defineSlot(e,t,a))&&(slot.addService(googletag.companionAds()).addService(googletag.pubads()),googletag.companionAds().setRefreshUnfilledSlots(!0),googletag.pubads().enableVideoAds(),googletag.enableServices(),googletag.display(a))})},isPlayAds:function(){return"guest"==ztvlib.getUserType()||"register"==ztvlib.getUserType()},setPlaybackTimeoutForIphone:function(){window.navigator.userAgent.match(/iPhone|iPad/i)&&!ztvlib.vmaxInSpapi&&(ztvlib.playbackTimeout&&(clearTimeout(ztvlib.playbackTimeout),ztvlib.playbackTimeout=null),ztvlib.playbackTimeout=setTimeout(()=>{ztvlib.isPlaybackStarted||""!==kalturaPlayer.src||kalturaPlayer.load()},8e3))},getUserToken:function(){return this.playerData.token},getGuestUserToken:function(){return this.playerData.guestToken},getDisplayLanguage:function(){return this.playerData.displayLanguage},getUserType:function(){return this.playerData.userType},getAccessToken:function(){return this.playerData.xAccessToken},getUserId:function(){return"guest"==ztvlib.getUserType()?ztvlib.getPlayerJson().guestToken:config.getLocalData("ID")},isUserGuest:function(){return"guest"==ztvlib.getUserType()},isUserPremium:function(){return"premium"==ztvlib.getUserType()},getUserContentLanguage(){return this.playerData.translation}}}(),videoPlayback=videoPlayback||function(){var n={},c={},t={},a={},l=!1,r=!1,d=null,o=!1;return{isNextContentApiCalled:!1,canSendWatchHistory:function(e){return n.watchHistory?videoPlayback.checkDurationtoSend(e,n.watchHistory.lastSentTime):(n.watchHistory={lastSentTime:kalturaPlayer.currentTime||0},!0)},abrModeSetter:function(){var e=kalturaPlayer._localPlayer._engine;const t=e._mediaSourceAdapter||e._engine._mediaSourceAdapter,a=t._shaka.getNetworkingEngine();a.registerRequestFilter(function(e,t){e===a.constructor.RequestType.LICENSE&&(t.headers.customData=c.keyOsDetails.sdrm,t.headers.nl=c.keyOsDetails.nl)})},checkDurationtoSend:function(e,t){return 60<=Math.abs(e-t)&&(n.watchHistory.lastSentTime=e,!0)},handleApiExpirationBeforeCall:async function(e,t){var a=c.timeStamp;2<=Math.floor((new Date-a)/1e3)/60?(a=await api.fetchSinglePlayApi(),ztvlib.getPlayerConfig().validateSinglePlayData(a)?(videoPlayback.resetSinglePlayDetails(a),ztvlib.getPlayerConfig().checkContentPlayability(a)&&e(t)):ztvlib.getPlayerConfig().toggleSinglePlayApiError()):e(t)},setSessionDrmError:function(e){l=e},getIsfirstPlay:function(){return o},setIsfirstPlay:function(e){o=e},getSessionDrmError:function(){return l},getVodDetails:function(){return n},setVodDetails:function(e){n=e},getSinglePlayDetails:function(){return c},setSinglePlayDetails:function(e){c=e},getSettingsDetails:function(){return t},setSettingsDetails:function(e){t=e},setSuggestedVodDetails:function(e){a=e,ztvlib.eventmanager.createSkipContentButton()},getSuggestedVodDetails:function(){return a},initAds:function(){var n=[],r=[],o=[];d=null;var e=videoPlayback.getSinglePlayDetails(),e=e&&e.entitlement&&e.entitlement.isTVOD;function s(){return Math.floor(10*Math.random())+1+Date.now()}getLocalStorage("dfpAdPlayed")&&getLocalStorage("vmaxAdPlayed")?d=null:(ztvlib.isPlayAds()||e&&ztvlib.isTvodEvent||videoPlayback.isContentAdPlayable()&&!e)&&!ztvlib.vmaxInSpapi?c&&c.adDetails&&c.adDetails.video_ads&&c.adDetails.video_ads[0]&&c.adDetails.video_ads[0].ads_visibility&&c.adDetails.video_ads[0].intervals&&c.adDetails.video_ads[0].intervals.length&&function(e){e&&0<Object.keys(e).length&&"pre"===e[0].time&&setLocalStorage("dfpPrerollAvailable",!0);ads=null;var t='<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">',a="</vmap:VMAP>";e.map((e,t)=>{switch(ad_Time=e.time,ad_Url=e.tag,ad_Tag=e.tag_name,ad_Time=Number(ad_Time),ad_Time=isNaN(ad_Time)?e.time:(9<(e=Math.floor(ad_Time/3600))?e:`0${e}`)+":"+(9<(e=Math.floor(ad_Time%3600/60))?e:`0${e}`)+":"+(9<(e=Math.floor(ad_Time%3600%60))?`${e}.000`:`0${e}.000`),ad_Time){case"pre":imaTag=`<vmap:AdBreak timeOffset="start" breakType="linear" breakId="preroll">
                            <vmap:AdSource id="${ad_Tag}" allowMultipleAds="false" followRedirects="true">
                            <vmap:AdTagURI templateType="vast3">
                            <![CDATA[${ad_Url+s()}]]>
                            </vmap:AdTagURI>
                            </vmap:AdSource>
                            </vmap:AdBreak>`,r.push(imaTag);break;case"post":imagTagPost=`<vmap:AdBreak timeOffset="end" breakType="linear" breakId="postroll">
                            <vmap:AdSource id="${ad_Tag}" allowMultipleAds="false" followRedirects="true">
                            <vmap:AdTagURI templateType="vast3">
                            <![CDATA[${ad_Url+s()}]]>
                            </vmap:AdTagURI>
                            </vmap:AdSource>
                            </vmap:AdBreak>`,o.push(imagTagPost);break;default:imagTagMid=`<vmap:AdBreak timeOffset="${ad_Time}" breakType="linear" breakId="midroll-${t}">
                            <vmap:AdSource id="${ad_Tag}" allowMultipleAds="false" followRedirects="true">
                            <vmap:AdTagURI templateType="vast3">
                            <![CDATA[${ad_Url+s()}]]>
                            </vmap:AdTagURI>
                            </vmap:AdSource>
                            </vmap:AdBreak>`,n.push(imagTagMid)}});var i=r.join(""),l=n.join(""),e=o.join("");ads=0<r.length&&0<n.length&&0<o.length?t+i+l+e+a:0<r.length&&0<n.length?t+i+l+a:0<r.length&&0<o.length?t+i+e+a:0<n.length&&0<o.length?t+l+e+a:0<r.length?t+i+a:0<o.length?t+e+a:t+l+a,d=ads}(c.adDetails.video_ads[0].intervals):ztvlib.vmaxInSpapi&&!e?function(){ztvlib.vmaxAdsObject=null;var e=c.adDetails;var t=e.VMAX&&e.VMAX.video_break;let a,i=!1;ztvlib.vmaxOverlayAd=e.VMAX&&e.VMAX.display_ads&&e.VMAX.display_ads.overlay_player&&e.VMAX.display_ads.overlay_player[0]&&e.VMAX.display_ads.overlay_player[0].tag,ztvlib.vmaxEndcardAd=e.VMAX&&e.VMAX.display_ads&&e.VMAX.display_ads.endcard&&e.VMAX.display_ads.endcard[0]&&e.VMAX.display_ads.endcard[0].tag;const l=e.VMAX&&e.VMAX.display_ads&&e.VMAX.display_ads.endcard&&e.VMAX.display_ads.endcard[0]&&e.VMAX.display_ads.endcard[0].tagid,n=document.querySelector(".playkit-video-player > .playkit-container"),r=document.querySelector(".playkit-container #ad_overlay1"),o=document.querySelector(`.playkit-container #${l}`);n&&ztvlib.vmaxOverlayAd&&(r&&n.removeChild(r),n.insertAdjacentHTML("beforeend",ztvlib.vmaxOverlayAd));n&&ztvlib.vmaxEndcardAd&&t&&0<Object.keys(t).length&&(o&&n.removeChild(o),n.insertAdjacentHTML("beforeend",ztvlib.vmaxEndcardAd),window.VMAXSDK&&l&&(VMAXSDK.Events.listen("onAdRender",l,e=>{a=new Date,i=!0,console.log("Vmax endCardImpression::",e),ztvlib.eventmanager.getAnalyticEngine().ReportEvent("EndCard",e)}),VMAXSDK.Events.listen("onAdClose",l,e=>{console.log("Vmax endCardclose::",e);e={endcardDuration:window.Math.abs(new Date-new Date(a))/1e3,type:"EndCard"};i&&ztvlib.eventmanager.getAnalyticEngine().ReportEvent("adcompleted",e)})));t&&0<Object.keys(t).length?(ztvlib.placementId=[],Object.keys(t).forEach(function(e){ztvlib.placementId.push(t[e].tagid)}),ztvlib.vmaxAdsObject=e.VMAX&&0<Object.keys(e.VMAX).length?e.VMAX:{},ztvlib.vmaxAdsObject&&ztvlib.vmaxAdsObject.video_break&&!ztvlib.vmaxAdsObject.video_break[-1]&&(ztvlib.isPostRollDone=!0)):(ztvlib.vmaxAdsObject=null,ztvlib.isPostRollDone=!0)}():d=null},getIsDRM:function(){return n.is_drm},getSubtitles:function(){let t=[];var a,l=videoPlayback.getVodDetails();if(l.use_external_subtitle&&l.subtitle_url&&l.subtitle_url.length)for(i=0;i<l.subtitle_url.length;i++)(a={}).url=l.subtitle_url[i].url,a.language=l.subtitle_url[i].language,a.type="vtt",a.label=l.subtitle_url[i].language,a.default=!1,0==i&&(a.default=!0),t.push(a);else{let e=l.video_url&&l.video_url.mpd;if(e&&l.subtitle_languages&&l.subtitle_languages.length)for(i=0;i<l.subtitle_languages.length;i++)(a={}).url=e.replace("manifest.mpd","manifest-"+l.subtitle_languages[i])+".vtt",a.language=l.subtitle_languages[i],a.type="vtt",a.label=l.subtitle_languages[i],a.default=!1,0==i&&(a.default=!0),t.push(a)}return t},initHLSPlayer:function(e){if(videoPlayback.getSessionDrmError()&&videoPlayback.setSessionDrmError(!1),e){kalturaPlayer&&(kalturaPlayer.pause(),kalturaPlayer.reset());let t=e;var a=videoPlayback.getVodCurrentTime(),i=ztvlib.getPlayerJson().startTime,l=ztvlib.getPlayerJson().endTime;i&&l?(c.entitlement.is_dai=0,t=`${e}&start=${i}&end=${l}`):!i||l||window.kalturaPlayer.isLive()||(n=Math.floor((new Date).getTime()/1e3),t=900<n-i?`${t}&start=${i-300}&end=${Number(i)+900}`:`${t}&start=${i-300}&end=${Number(n)-10}`,c.entitlement.is_dai=0,a=300),ztvlib.isHLS=!0;var n=videoPlayback.getSubtitles();kalturaPlayer.configure({playback:{startTime:a},sources:{captions:n}});n=videoPlayback.getPlayerAdsConfiguration();if(t.includes(".m3u8")){let e={plugins:n,session:{},sources:{hls:[{id:"id2",mimetype:"application/x-mpegURL",url:t}]}};c&&c.entitlement&&c.entitlement.is_dai&&(e.type="Live"),ztvlib.canContentPlay()&&kalturaPlayer.setMedia(e),ztvlib.setPlaybackTimeoutForIphone()}else ztvlib.canContentPlay()&&kalturaPlayer.setMedia({plugins:n,session:{},sources:{hls:[{id:"id2",mimetype:"video/mp4",url:t}]}}),ztvlib.setPlaybackTimeoutForIphone()}else ztvlib.getPlayerConfig().toggleSinglePlayApiError()},isPremiumContent:function(){return!!videoPlayback.getContentBusinessType()&&((0<=videoPlayback.getContentBusinessType().indexOf("premium")||0<=videoPlayback.getContentBusinessType().indexOf("tvod"))&&"trailer"!=videoPlayback.getContentAssetSubType()&&"promo"!=videoPlayback.getContentAssetSubType()&&"preview"!=videoPlayback.getContentAssetSubType())},isBeforetv:function(){return!!c.entitlement&&!!c.entitlement.isBeforeTv},getContentBusinessType:function(){return n.business_type},getContentAssetSubType:function(){return n.asset_subtype},resetSinglePlayDetails(e){n={...n,...e},ztvlib.getPlayerJson().contentDetail=e.assetDetails,ztvlib.getPlayerJson().singlePlayData=e,videoPlayback.setSinglePlayDetails(e)},setVodCurrentTime:function(e){videoPlayback.getVodDetails().watchTime=e},getVodCurrentTime:function(){let e=0;return videoPlayback&&videoPlayback.getVodDetails()&&videoPlayback.getVodDetails().watchTime&&(e=Math.round(videoPlayback.getVodDetails().watchTime)),""===ztvlib.getPlayerJson().watchTrailerPlayBackType.mediaId&&ztvlib.getPlayerJson().startOffset&&(e=ztvlib.getPlayerJson().startOffset),e},setWatchHistoryMethod:function(e){videoPlayback.getVodDetails().watchMethod=e},getWatchHistoryMethod:function(){return videoPlayback.getVodDetails().watchMethod},getContentType:function(e){var t="unknown";if(e=void 0===e?n.id:e){switch((e&&e.split("-"))[1]){case"1":t="episode";break;case"0":t="movie";break;case"9":t="livetv";break;case"6":t="tvshows";break;case"101":t="external"}return t}},isContentLiveTv:function(){return"livetv"==this.getContentType()},isVODContent:function(){return"livetv"!==this.getContentType()},getPosterImage:function(){if(n&&n.image_url)return n.image_url},initFallbackPlayer:function(){var e=c&&c.keyOsDetails&&c.keyOsDetails.hls_token;videoPlayback.handleApiExpirationBeforeCall(videoPlayback.initHLSPlayer,e)},skipIntro:function(){var e;return e=videoPlayback.getVodDetails().skip_available?videoPlayback.getVodDetails().skip_available:e},watchCredit:function(){return videoPlayback.getVodDetails().end_credits_start_s},getContentAssetType:function(){return n.asset_subtype},toggleWatchTrailerButton:function(e){let t=document.querySelector(".promoButtonDiv");e?t&&-1===t.className.indexOf("trailerPlayback")&&t.classList.add("trailerPlayback"):t&&0<=t.className.indexOf("trailerPlayback")&&t.classList.remove("trailerPlayback")},isContentAdPlayable:function(){return 0<=videoPlayback.getContentBusinessType().indexOf("advertisement")},nextAndPrevPlay:function(){if(ztvlib.getPlayerJson().recoItems.items.length)videoPlayback.setSuggestedVodDetails({items:ztvlib.getPlayerJson().recoItems.items,modelName:ztvlib.getPlayerJson().recoItems.modelName});else{this.isNextContentApiCalled=!0;let e=0<=videoPlayback.getContentAssetType().indexOf("episode")?api.fetchPrevEpisode(n.id):api.fetchNextVideos(n.id);e.then(function(e){ztvlib.getPlayerJson().recoItems&&ztvlib.getPlayerJson().recoItems.items&&!ztvlib.getPlayerJson().recoItems.items.length&&(a=e,videoPlayback.setSuggestedVodDetails(a))})}},initializePlayerData:function(){ztvlib.setConvivaInfoMessage(),videoPlayback.watchHistoryHandler(videoPlayback.getVodDetails().id),ztvlib.putContentDetailsToMixpanel(n),videoPlayback.initializePlaybackType()},watchHistoryHandler:function(e){"livetv"==videoPlayback.getContentType(e)||ztvlib.isUserGuest()||(!(0<=videoPlayback.getContentType(e).indexOf("external")||"trailer"==videoPlayback.getContentAssetType()||"promo"==videoPlayback.getContentAssetType()||"livetv"==videoPlayback.getContentType(e)&&n.external)&&c&&c.watchHistoryDetails&&c.watchHistoryDetails.played_duration?(videoPlayback.setVodCurrentTime(c.watchHistoryDetails.played_duration),videoPlayback.setWatchHistoryMethod("PUT")):(videoPlayback.setVodCurrentTime(0),videoPlayback.setWatchHistoryMethod("POST")))},initializePlaybackType:function(){var e,t,a;c.entitlement&&c.entitlement.isLive?(e=c&&c.keyOsDetails&&c.keyOsDetails.video_token,videoPlayback.handleApiExpirationBeforeCall(videoPlayback.initHLSPlayer,e)):videoPlayback.getIsDRM()?videoPlayback.getSessionDrmError()&&!videoPlayback.isPremiumContent()?(t={severity:2,category:"DRM Error",code:"40000500",data:"Video playback failed because DRM session Failed."},(a=new Event("Failure")).payload=t,a.error=t,zTvLibEvent.dispatchEvent(a),videoPlayback.initFallbackPlayer()):this.handleApiExpirationBeforeCall(this.initDRMPLayer):(t={severity:2,category:"legacy Fallback",code:"40000400",data:"Video playback failed because content is legacy. Switched to Fallback player."},(a=new Event("playbackFailure")).payload=t,a.error=t,zTvLibEvent.dispatchEvent(a),videoPlayback.initFallbackPlayer())},initDRMPLayer:function(){var e=videoPlayback.getBrowserDrmLicenseUrl();kalturaPlayer&&(kalturaPlayer.pause(),kalturaPlayer.reset());var t=videoPlayback.getSubtitles(),a=videoPlayback.getPlayerAdsConfiguration(),i=videoPlayback.getVodCurrentTime();kalturaPlayer.configure({playback:{startTime:i},sources:{captions:t}}),"widevine"==e.type||"playready"==e.type?videoPlayback.widevinePlayerSetup(a,e):"fairplay"==e.type&&videoPlayback.fairPlayPlayerSetup(a,e)},getPlayerAdsConfiguration:function(){this.initAds();let e={};var t,a;return c&&c.entitlement&&c.entitlement.is_dai&&c.keyOsDetails&&c.keyOsDetails.asset_key?(t={...a={platform_name:"pwa-website",app_version:ztvlib.playerConfig&&ztvlib.playerConfig.appVersion||"",user_display_language:ztvlib.getDisplayLanguage()||"",user_content_language:ztvlib.getUserContentLanguage()||"",age:ztvlib.playerData&&ztvlib.playerData.userAge?ztvlib.playerData.userAge||"":window.userAge||"",gender:ztvlib.playerData&&ztvlib.playerData.userGender?ztvlib.playerData.userGender||"":window.userGender||"",user_type:ztvlib.getPlayerConfig().userType},zid:ztvlib.getPlayerJson().guestToken},a={...a,uid:ztvlib.getUserId(),zid:ztvlib.getPlayerJson().guestToken},window.userAge&&delete window.userAge,window.userGender&&delete window.userGender,e={imadai:{assetKey:c.keyOsDetails.asset_key,adTagParameters:{ppid:ztvlib.getPlayerJson().guestToken,vid:videoPlayback.getVodDetails().id,cust_params:function(a){let i="";return Object.keys(a).map((e,t)=>{i+=`${e}=${a[e]}`,t!==Object.keys(a).length-1&&(i+="&")}),i}("guest"===ztvlib.getPlayerConfig().userType?t:a)}}}):void 0===d||null==d||ztvlib.vmaxInSpapi?ztvlib.vmaxInSpapi?(e={VmaxKalturaAdsPlugin:{ads:!(!ztvlib.vmaxAdsObject||null===ztvlib.vmaxAdsObject)&&ztvlib.vmaxAdsObject,onAdEnterFullscreen:function(){window.kalturaPlayer.enterFullscreen()},onAdExitFullscreen:function(){window.kalturaPlayer.exitFullscreen()},onAdBreakStart:function(e){ztvlib.eventmanager.destroyCBPlugin(),ztvlib.setVmaxPrerollFlag(e)},onAdBreakComplete:function(e){ztvlib.isVmaxPreroll=!1,ztvlib.eventmanager.handleCBplugin(),ztvlib.getPlayerConfig().convivaAnalytic.reportEvent("adBreakEnd");var t=ztvlib.vmaxAdsObject.video_break[-1],a=t&&Object.keys(t).length;t&&a&&e===t[a].tagid&&ztvlib.eventmanager.postPlaybackHandler()},onContentPause:function(){console.log("onContentPause function")},onContentPlay:function(){console.log("onContentPlay function")}}},ztvlib.eventmanager.vmaxAdEventsCallback()):ztvlib&&(!ztvlib.isUserPremium()||ztvlib.isUserPremium()&&kalturaPlayer&&kalturaPlayer.plugins&&kalturaPlayer.plugins.ima)&&(e={ima:{adsResponse:"",debug:!0,adsRenderingSettings:{playAdsAfterTime:-1}}}):e={ima:{adsResponse:d,adsRenderingSettings:{playAdsAfterTime:-1},debug:!0}},"undefined"==typeof VmaxKalturaAdsPlugin&&delete e.VmaxKalturaAdsPlugin,e},widevinePlayerSetup:function(e,t){var a=videoPlayback.getVodDetails()&&videoPlayback.getVodDetails().video_url&&videoPlayback.getVodDetails().video_url.mpd;a?(r?(kalturaPlayer.removeEventListener(kalturaPlayer.Event.ABR_MODE_CHANGED,videoPlayback.abrModeSetter),kalturaPlayer.addEventListener(kalturaPlayer.Event.ABR_MODE_CHANGED,videoPlayback.abrModeSetter)):(kalturaPlayer.addEventListener(kalturaPlayer.Event.ABR_MODE_CHANGED,videoPlayback.abrModeSetter),r=!0),ztvlib.canContentPlay()&&kalturaPlayer.setMedia({plugins:e,session:{},sources:{metadata:{name:"sample"},dash:[{id:"0_2jiaa9tb_997,mpegdash",url:a,mimetype:"application/dash+xml",drmData:[{licenseUrl:t.licenseUrl,scheme:t.scheme,certificate:""}]}]}}),ztvlib.setPlaybackTimeoutForIphone(),void 0!==d&&null!=d||kalturaPlayer.load()):ztvlib.getPlayerConfig().toggleSinglePlayApiError()},fairPlayPlayerSetup:async function(e,a){var t=videoPlayback.getVodDetails()&&videoPlayback.getVodDetails().video_url&&videoPlayback.getVodDetails().video_url.m3u8;if(t){const l=await fetch("https://fp-keyos.licensekeyserver.com/cert/b19d422d890644d5112d08469c2e5946.der");var i=await l.arrayBuffer(),i=btoa(String.fromCharCode(...new Uint8Array(i)));ztvlib.canContentPlay()&&kalturaPlayer.setMedia({plugins:e,session:{},network:{requestFilter:function(e,t){e===KalturaPlayer.core.RequestType.LICENSE&&(e="spc="+t.body+"&assetid="+n.drm_key_id.toString().split("-").join(""),t.headers.customData=a.licenseRequestData,t.headers.nl=c.keyOsDetails.nl,t.body=e)},responseFilter:function(e,t){e===KalturaPlayer.core.RequestType.LICENSE&&(e=t.data,"<ckc>"===(e=String.fromCharCode.apply(null,new Uint8Array(e))).substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6)),e=Uint8Array.from(atob(e),e=>e.charCodeAt(0)),t.data=e)}},sources:{metadata:{name:n.title},hls:[{id:"0_4s6xvtx3_972,applehttp",url:t,mimetype:"application/x-mpegURL",drmData:[{licenseUrl:ztvlib.licenseUrl.concat("fairplay/getLicense"),scheme:"com.apple.fairplay",certificate:i}]}]}}),ztvlib.setPlaybackTimeoutForIphone()}else ztvlib.getPlayerConfig().toggleSinglePlayApiError()},getBrowserDrmLicenseUrl:function(){var e=ztvlib.getDeviceInfo();switch(e.drm=1,e.licenseRequestData=c.keyOsDetails.sdrm,e.DeviceBrowser){case"Chrome":return e.licenseUrl=ztvlib.licenseUrl.concat("widevine/getLicense"),e.scheme="com.widevine.alpha",e.type="widevine",e;case"Safari":return e.licenseUrl=ztvlib.licenseUrl.concat("fairplay/getLicense"),e.certificateUrl="//fp-keyos.licensekeyserver.com/cert/",e.type="fairplay",e;case"FireFox":return e.licenseUrl=ztvlib.licenseUrl.concat("widevine/getLicense"),e.scheme="com.widevine.alpha",e.type="widevine",e;case"ie":case"Edge":return e.licenseUrl=ztvlib.licenseUrl.concat("playready/getLicense"),e.scheme="com.microsoft.playready",e.type="playready",e;default:return e.licenseUrl=ztvlib.licenseUrl.concat("widevine/getLicense"),e.scheme="com.widevine.alpha",e.type="widevine",e}}}}(),api={fetchSinglePlayApi:function(e=null){var t=videoPlayback.getSinglePlayDetails().assetDetails&&videoPlayback.getSinglePlayDetails().assetDetails.asset_subtype;const a=ztvlib.getPlayerConfig();var i="trailer"===t||"promo"===t||"preview"===t,t=!i&&0<=window.location.pathname.indexOf("/latest1"),i=!i&&!t&&0<=window.location.pathname.indexOf("/latest");const l={id:e||videoPlayback.getVodDetails().id,isChannel:0<=window.location.pathname.indexOf("/channels"),isLatestRoute:i,isLatest1Route:t,translation:ztvlib.getDisplayLanguage(),languages:ztvlib.getUserContentLanguage()};(t||i)&&(l.id=ztvlib.getPlayerJson()&&ztvlib.getPlayerJson().contentDetail&&ztvlib.getPlayerJson().contentDetail.tvshow),"1"===l.id.split("-")[1]&&(n=ztvlib.getPlayerJson()&&ztvlib.getPlayerJson().contentDetail&&ztvlib.getPlayerJson().contentDetail.tvshow,l.showId=n,l.isEpisodeConsumptionPage=!0);var n=a.generateSinglePlayApi(l);let r={"x-access-token":ztvlib.getPlayerJson().xAccessToken};return"guest"===ztvlib.getPlayerJson().userType?r["X-Z5-Guest-Token"]=ztvlib.getPlayerJson().guestToken:r.Authorization=`bearer ${ztvlib.getPlayerJson().token}`,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(e=>{if((e&&e.status.toString())!==ztvlib.errorCode.PLAYBACK_ERROR_RELOAD)return e;{const t=new Error({message:"something went wrong"});throw t.code=e.status,t}}).then(e=>e.json()).then(e=>(e.timeStamp=new Date,e)).catch(e=>{(e.code&&e.code.toString())==ztvlib.errorCode.PLAYBACK_ERROR_RELOAD?ztvlib.eventmanager.compatibilityMessage(ztvlib.errorCode.PLAYBACK_ERROR_RELOAD):a.toggleSinglePlayApiError()})},fetchNextVideos:function(){return new Promise(function(t,a){let i=new URL(config.getEnvironment().gwapi+"content/player/"+videoPlayback.getVodDetails().id);var e={"X-Access-Token":ztvlib.getAccessToken()};params={user_type:ztvlib.getUserType(),limit:25,translation:ztvlib.getDisplayLanguage(),country:ztvlib.getPlayerConfig().country,languages:ztvlib.getUserContentLanguage()},Object.keys(params).forEach(e=>i.searchParams.append(e,params[e])),fetch(i,{headers:e}).then(function(e){return t(e.json()),e.json}).catch(function(e){console.log("Error while fetching content details: ",e),a(e)})})},fetchPrevEpisode:function(){let l=ztvlib.getPlayerJson()&&ztvlib.getPlayerJson().showDetail&&ztvlib.getPlayerJson().showDetail.asset_subtype,n=videoPlayback.getVodDetails()&&videoPlayback.getVodDetails().season,t=videoPlayback.getVodDetails()&&videoPlayback.getVodDetails().id,r=ztvlib.getPlayerJson()&&ztvlib.getPlayerJson().showDetail&&ztvlib.getPlayerJson().showDetail.seasons,e=r&&n&&r[r.findIndex(e=>e.id===n)],o=r&&n&&0===r.findIndex(e=>e.id===n),s=e&&e.episodes&&t&&e.episodes.findIndex(e=>e.id===t)===e.episodes.length-1;return new Promise(function(a,i){if("original"!==l||"original"===l&&!s){let t=new URL(config.getEnvironment().gwapi+"content/season/next_previous/"+videoPlayback.getVodDetails().season);var e={"X-Access-Token":ztvlib.getAccessToken()};params={episode_id:videoPlayback.getVodDetails().id,type:"next",limit:25,translation:ztvlib.getDisplayLanguage(),country:ztvlib.getPlayerConfig().country,page:1},Object.keys(params).forEach(e=>t.searchParams.append(e,params[e])),fetch(t,{headers:e}).then(function(e){return a(e.json()),e.json}).catch(function(e){console.log("Error while fetching content details: ",e),i(e)})}else{var t;"original"===l&&s&&!o?(t=r.findIndex(e=>e.id===n),t=r[t-1],a({items:t.episodes})):"original"===l&&s&&o&&(t=r[r.length-1],a({items:t.episodes}))}})},addDevice:function(){if(!ztvlib.getPlayerJson().token)return null;let t=new URL(config.getEnvironment().entitlement+"v1/device"),a={name:"WebBrowser",identifier:ztvlib.getPlayerJson().guestToken||"WebBrowser"};Object.keys(a).forEach(e=>t.searchParams.append(e,a[e])),fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`bearer ${ztvlib.getPlayerJson().token}`},body:JSON.stringify(a)}).then(async e=>{var t;return 400!==e.status&&401!==e.status&&(t=await api.fetchSinglePlayApi(),ztvlib.getPlayerConfig().validateSinglePlayData(t)&&(videoPlayback.resetSinglePlayDetails(t),ztvlib.getPlayerConfig().checkContentPlayability(t)&&(t=ztvlib.getPlayableData(t),ztvlib.startPlaybackFlow(t)))),e.json()}).then(e=>{3602==e.code&&api.removeDevice(),3603==e.code&&ztvlib.eventmanager.compatibilityMessage(errorCode,errorMsg)}).catch(function(e){console.log("data not fetched correctly",e)})},removeDevice:function(){if(!ztvlib.getPlayerJson().token)return null;var e=new URL(config.getEnvironment().entitlement+"v1/device");fetch(e,{method:"delete",headers:{Authorization:`bearer ${ztvlib.getPlayerJson().token}`,"Content-Type":"application/json"}}).then(e=>e.json()).then(async e=>{if(0==e.code){e=await api.fetchSinglePlayApi();if(ztvlib.getPlayerConfig().validateSinglePlayData(e)){if(videoPlayback.resetSinglePlayDetails(e),ztvlib.getPlayerConfig().checkContentPlayability(e)){e=ztvlib.getPlayableData(e);ztvlib.startPlaybackFlow(e);const t=document.querySelector(".appContainer");e=document.querySelector(".popup-background-container");null!=e&&t&&t.removeChild(e),document.getElementsByTagName("BODY")[0].style.overflow="visible"}}else ztvlib.getPlayerConfig().toggleSinglePlayApiError()}else console.error("Device Delete was unsuccessful")}).catch(function(e){console.log("data not fetched correctly",e)})}};class MarkerInterface{constructor(e={}){var{player:t=null,url:a=null,token:i=null,apikey:e=null}=e;if(null==t)throw new Error("object configuration is invalid, no player provided");this.url=a,this.token=i,this.apikey=e,this.jswbw=new jswbw2({callback:this,url:a,token:i,apikey:e}),this.player=t,kalturaPlayer.addEventListener(kalturaPlayer.Event.Core.PLAYING,()=>{console.log("isStarted => "+this.jswbw.isStarted()),this.jswbw.isStarted()?(this.jswbw.resume(),videojs.getPlayer("video").trigger("jswbwStart")):this.jswbw.start()}),kalturaPlayer.addEventListener(kalturaPlayer.Event.Core.PLAYBACK_ENDED,()=>{this.jswbw.pause(),videojs.getPlayer("video").trigger("jswbwUpdate")}),kalturaPlayer.removeEventListener(kalturaPlayer.Event.Core.PAUSE,()=>{this.jswbw.pause(),videojs.getPlayer("video").trigger("jswbwUpdate")})}setToken(e){this.jswbw.setToken(e)}tlValidation(e){var t=new jsSHA("SHA-1","ARRAYBUFFER");return t.setHMACKey("wofDlXo9wo4eU8K+wqY=","BYTES"),t.update(e),t.getHMAC("UINT8ARRAY")}image(e){console.log("A new marker is ready to display");var t,a=((t=new Image).src=e,t);kalturaPlayer.configure({ui:{components:{watermark:{img:a.src,timeout:0,class:"customOverlay"}}}})}message(e){console.log("Message received: '"+e+"'")}error(e,t){console.error("Error "+e+" received: '"+t+"'")}getVersion(){return jswbwVersion.version}}function createMarker(e){var t=kalturaPlayer,e=new MarkerInterface({player:t,url:"https://quickmark.zee5.com/TENANT/qm/v2/surfaces",token:e,apikey:"KD32OzOWzO5Pdt9JVvPFR6H2kLOl4gJa3Wq5flQ4"});console.log("jswbw version: "+e.getVersion())}function setLocalStorage(e,t){"string"==typeof t?t&&localStorage.setItem(e,t):localStorage.setItem(e,JSON.stringify(t))}function getLocalStorage(e){e=localStorage&&localStorage.getItem(e);return e&&"string"!=typeof e?JSON.parse(e):e||""}function deleteLocalStorage(e){localStorage&&localStorage.getItem(e)&&localStorage.removeItem(e)}function getLocalStorageInteger(e){let t;return localStorage&&localStorage.getItem(e)?(t=localStorage.getItem(e),"string"==typeof t?parseInt(t,10):t):t}function extractURL(e){return e&&Array.isArray(e)&&0<e.length?e[0]:"url"in e?e.url:"NA"}